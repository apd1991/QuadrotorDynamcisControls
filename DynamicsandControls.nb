(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 12.2' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       158,          7]
NotebookDataLength[    118375,       3064]
NotebookOptionsPosition[    105904,       2855]
NotebookOutlinePosition[    106405,       2873]
CellTagsIndexPosition[    106362,       2870]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{

Cell[CellGroupData[{
Cell["PLANT Graphics", "Title",
 CellChangeTimes->{{3.831648358277148*^9, 3.8316483618196735`*^9}, {
  3.8321032185252695`*^9, 
  3.832103221648302*^9}},ExpressionUUID->"4c5d7ea0-58ed-4c66-922e-\
19fa315565a1"],

Cell[CellGroupData[{

Cell["Graphics ", "Section",
 CellChangeTimes->{{3.7791271854041853`*^9, 
  3.779127188650876*^9}},ExpressionUUID->"432e5c7d-755c-4ff4-822d-\
7c5aeca4fbf7"],

Cell["Draw the main body as a cylinder (plate)", "Text",
 CellChangeTimes->{{3.776727343641675*^9, 
  3.7767273471151733`*^9}},ExpressionUUID->"9886d970-3055-4699-87e2-\
02a757bf08c4"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"vecL", "=", "1.5"}], ";"}], "\n", 
 RowBox[{
  RowBox[{"halfHeightPlate", "=", "0.25"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"plateBase", "=", 
   RowBox[{"{", 
    RowBox[{"0", ",", "0", ",", 
     RowBox[{"-", "halfHeightPlate"}]}], "}"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"plateTop", "=", 
   RowBox[{"{", 
    RowBox[{"0", ",", "0", ",", "halfHeightPlate"}], "}"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"plateRadius", "=", "0.5"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"armRadius", " ", "=", " ", "0.2"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"armLength", " ", "=", " ", "1.25"}], ";"}]}], "Input",
 CellChangeTimes->{
  3.7767282195190973`*^9, 3.7767753073261957`*^9, {3.776777010508847*^9, 
   3.7767770123761797`*^9}, {3.7775817925024443`*^9, 3.777581825049883*^9}, {
   3.7911231093606253`*^9, 3.791123111310288*^9}},
 CellLabel->"In[1]:=",ExpressionUUID->"84563f7a-3935-4ad3-be25-160054c32e5c"],

Cell[CellGroupData[{

Cell["Body Plate Graphics", "Subsection",
 CellGroupingRules->{"GroupTogetherGrouping", 10002.},
 CellChangeTimes->{{3.764643579604108*^9, 3.764643581673542*^9}, 
   3.764643623258912*^9, {3.765658256119266*^9, 
   3.7656582739402037`*^9}},ExpressionUUID->"44dcf5bf-f140-4e8f-a699-\
fa075a92ff17"],

Cell["Main Frame", "Subsubsection",
 CellGroupingRules->{"GroupTogetherGrouping", 10002.},
 CellChangeTimes->{{3.750453439181123*^9, 3.750453446060828*^9}, 
   3.764643623259591*^9, 
   3.765658273940394*^9},ExpressionUUID->"8c604039-bb86-4fdf-94f1-\
323abb6987c1"],

Cell["Draw the main body as a cylinder (plate)", "Text",
 CellGroupingRules->{"GroupTogetherGrouping", 10002.},
 CellChangeTimes->{{3.750453419847975*^9, 3.75045343202859*^9}, 
   3.764643623260203*^9, 
   3.765658273940549*^9},ExpressionUUID->"29a0bd58-020f-4bbb-93bf-\
bd77d59aa8b1"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"vecL", "=", "1.5"}], ";"}], "\n", 
 RowBox[{
  RowBox[{"halfHeightPlate", "=", "0.05"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"plateBase", "=", 
   RowBox[{"{", 
    RowBox[{"0", ",", "0", ",", 
     RowBox[{"-", "halfHeightPlate"}]}], "}"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"plateTop", "=", 
   RowBox[{"{", 
    RowBox[{"0", ",", "0", ",", "halfHeightPlate"}], "}"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"plateRadius", "=", "0.5"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"armRadius", " ", "=", " ", "0.05"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"armLength", " ", "=", " ", "1.25"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"motorPlatRadius", " ", "=", " ", "0.1"}], ";"}]}], "Input",
 CellGroupingRules->{"GroupTogetherGrouping", 10002.},
 CellChangeTimes->{{3.440357222267866*^9, 3.440357227851194*^9}, {
   3.750453484302704*^9, 3.750453530945129*^9}, {3.750453644452942*^9, 
   3.7504536746115103`*^9}, {3.7504538922872963`*^9, 3.750453933471075*^9}, {
   3.750454483753717*^9, 3.7504545054007807`*^9}, {3.750454955000976*^9, 
   3.7504549653844223`*^9}, {3.750455155844398*^9, 3.7504551655879*^9}, {
   3.750455321609717*^9, 3.7504553529525642`*^9}, {3.750455639183457*^9, 
   3.7504556556378813`*^9}, {3.750457977550695*^9, 3.750458006333308*^9}, 
   3.764643623261415*^9, 3.765658273940872*^9},
 CellLabel->"In[8]:=",ExpressionUUID->"aa308a75-d7bb-4b3a-a4ae-bafe468893fe"],

Cell[BoxData[
 RowBox[{
  RowBox[{"plateGraphic", "=", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"EdgeForm", "[", 
      RowBox[{"Directive", "[", 
       RowBox[{"Thick", ",", "Dashed", ",", "Red"}], "]"}], "]"}], ",", 
     RowBox[{"Cylinder", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"plateBase", ",", "plateTop"}], "}"}], ",", "plateRadius"}], 
      "]"}], ",", 
     RowBox[{"Cylinder", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{
           RowBox[{"plateRadius", "*", 
            RowBox[{"Sin", "[", 
             RowBox[{"Pi", "/", "4"}], "]"}]}], ",", 
           RowBox[{"plateRadius", "*", 
            RowBox[{"Sin", "[", 
             RowBox[{"Pi", "/", "4"}], "]"}]}], ",", "0"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"armLength", "*", 
            RowBox[{"Sin", "[", 
             RowBox[{"Pi", "/", "4"}], "]"}]}], ",", 
           RowBox[{"armLength", "*", 
            RowBox[{"Sin", "[", 
             RowBox[{"Pi", "/", "4"}], "]"}]}], ",", "0"}], "}"}]}], "}"}], 
       ",", "armRadius"}], "]"}], ",", "\[IndentingNewLine]", 
     RowBox[{"Cylinder", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{
           RowBox[{
            RowBox[{"-", "plateRadius"}], "*", 
            RowBox[{"Sin", "[", 
             RowBox[{"Pi", "/", "4"}], "]"}]}], ",", 
           RowBox[{
            RowBox[{"-", "plateRadius"}], "*", 
            RowBox[{"Sin", "[", 
             RowBox[{"Pi", "/", "4"}], "]"}]}], ",", "0"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{
            RowBox[{"-", "armLength"}], "*", 
            RowBox[{"Sin", "[", 
             RowBox[{"Pi", "/", "4"}], "]"}]}], ",", 
           RowBox[{
            RowBox[{"-", "armLength"}], "*", 
            RowBox[{"Sin", "[", 
             RowBox[{"Pi", "/", "4"}], "]"}]}], ",", "0"}], "}"}]}], "}"}], 
       ",", "armRadius"}], "]"}], ",", "\[IndentingNewLine]", 
     RowBox[{"Cylinder", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{
           RowBox[{"plateRadius", "*", 
            RowBox[{"Sin", "[", 
             RowBox[{"Pi", "/", "4"}], "]"}]}], ",", 
           RowBox[{
            RowBox[{"-", "plateRadius"}], "*", 
            RowBox[{"Sin", "[", 
             RowBox[{"Pi", "/", "4"}], "]"}]}], ",", "0"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"armLength", "*", 
            RowBox[{"Sin", "[", 
             RowBox[{"Pi", "/", "4"}], "]"}]}], ",", 
           RowBox[{
            RowBox[{"-", "armLength"}], "*", 
            RowBox[{"Sin", "[", 
             RowBox[{"Pi", "/", "4"}], "]"}]}], ",", "0"}], "}"}]}], "}"}], 
       ",", "armRadius"}], "]"}], ",", "\[IndentingNewLine]", 
     RowBox[{"Cylinder", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{
           RowBox[{
            RowBox[{"-", "plateRadius"}], "*", 
            RowBox[{"Sin", "[", 
             RowBox[{"Pi", "/", "4"}], "]"}]}], ",", 
           RowBox[{"plateRadius", "*", 
            RowBox[{"Sin", "[", 
             RowBox[{"Pi", "/", "4"}], "]"}]}], ",", "0"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{
            RowBox[{"-", "armLength"}], "*", 
            RowBox[{"Sin", "[", 
             RowBox[{"Pi", "/", "4"}], "]"}]}], ",", 
           RowBox[{"armLength", "*", 
            RowBox[{"Sin", "[", 
             RowBox[{"Pi", "/", "4"}], "]"}]}], ",", "0"}], "}"}]}], "}"}], 
       ",", "armRadius"}], "]"}], ",", "\[IndentingNewLine]", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"AbsoluteThickness", "[", "2", "]"}], ",", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"Text", "[", 
          RowBox[{
           SubscriptBox[
            OverscriptBox["b", "^"], "1"], ",", 
           RowBox[{"{", 
            RowBox[{"vecL", ",", "0", ",", "0"}], "}"}], ",", 
           RowBox[{"{", 
            RowBox[{"0", ",", "1"}], "}"}]}], "]"}], ",", 
         RowBox[{"Text", "[", 
          RowBox[{
           SubscriptBox[
            OverscriptBox["b", "^"], "2"], ",", 
           RowBox[{"{", 
            RowBox[{"0", ",", "vecL", ",", "0"}], "}"}], ",", 
           RowBox[{"{", 
            RowBox[{"0", ",", "1"}], "}"}]}], "]"}], ",", 
         RowBox[{"Text", "[", 
          RowBox[{
           SubscriptBox[
            OverscriptBox["b", "^"], "3"], ",", 
           RowBox[{"{", 
            RowBox[{"0", ",", "0", ",", 
             RowBox[{"-", "vecL"}]}], "}"}], ",", 
           RowBox[{"{", 
            RowBox[{"0", ",", "1"}], "}"}]}], "]"}], ",", "\n", "\t\t", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"AbsoluteThickness", "[", "1", "]"}], ",", 
           RowBox[{"RGBColor", "[", 
            RowBox[{"1", ",", "0", ",", "0"}], "]"}], ",", 
           RowBox[{"Line", "[", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"0", ",", "0", ",", "0"}], "}"}], ",", 
              RowBox[{"{", 
               RowBox[{"vecL", ",", "0", ",", "0"}], "}"}]}], "}"}], "]"}]}], 
          "}"}], ",", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"AbsoluteThickness", "[", "1", "]"}], ",", 
           RowBox[{"RGBColor", "[", 
            RowBox[{"0", ",", "1", ",", "0"}], "]"}], ",", 
           RowBox[{"Line", "[", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"0", ",", "0", ",", "0"}], "}"}], ",", 
              RowBox[{"{", 
               RowBox[{"0", ",", "vecL", ",", "0"}], "}"}]}], "}"}], "]"}]}], 
          "}"}], ",", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"AbsoluteThickness", "[", "1", "]"}], ",", 
           RowBox[{"RGBColor", "[", 
            RowBox[{"0", ",", "0", ",", "1"}], "]"}], ",", 
           RowBox[{"Line", "[", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"0", ",", "0", ",", "0"}], "}"}], ",", 
              RowBox[{"{", 
               RowBox[{"0", ",", "0", ",", 
                RowBox[{"-", "vecL"}]}], "}"}]}], "}"}], "]"}]}], "}"}]}], 
        "}"}]}], "}"}]}], "}"}]}], ";"}]], "Input",
 CellGroupingRules->{"GroupTogetherGrouping", 10002.},
 CellChangeTimes->{{3.440357182927485*^9, 3.440357210615471*^9}, {
   3.440357277903953*^9, 3.4403572812079573`*^9}, {3.440440142379199*^9, 
   3.440440146930023*^9}, {3.750453548935543*^9, 3.750453614815722*^9}, {
   3.750454354679319*^9, 3.750454359271694*^9}, {3.750454443609605*^9, 
   3.750454444199329*^9}, {3.750454679964304*^9, 3.7504546919325123`*^9}, {
   3.750454769686365*^9, 3.750454781862029*^9}, {3.750454828015284*^9, 
   3.7504548567271633`*^9}, {3.7504549407931747`*^9, 
   3.7504549513445263`*^9}, {3.7504551431986713`*^9, 
   3.7504551525322742`*^9}, {3.750455397732605*^9, 3.750455411899437*^9}, {
   3.750455442314402*^9, 3.75045550498123*^9}, {3.750457951001142*^9, 
   3.750457951424993*^9}, {3.750458041586041*^9, 3.750458075377941*^9}, {
   3.750458168748385*^9, 3.750458230789755*^9}, {3.7504582639417753`*^9, 
   3.75045828610347*^9}, {3.750458367117549*^9, 3.7504583904720497`*^9}, {
   3.7504585399245167`*^9, 3.750458676921619*^9}, {3.750458869918413*^9, 
   3.750458893153763*^9}, {3.750458939509564*^9, 3.7504589557309017`*^9}, {
   3.75045906209837*^9, 3.750459065674089*^9}, {3.750459111259709*^9, 
   3.750459114479254*^9}, {3.750459153866046*^9, 3.7504591783689613`*^9}, {
   3.750463407599916*^9, 3.750463503205804*^9}, {3.750463547968158*^9, 
   3.7504635923091087`*^9}, {3.7504636615539293`*^9, 3.7504636633063602`*^9}, 
   3.764643623263323*^9, 3.7656582739416037`*^9, {3.7766158198745317`*^9, 
   3.7766158384184017`*^9}, 3.7766367768346786`*^9, {3.776720492734777*^9, 
   3.77672052565772*^9}, 3.7767207065067883`*^9, 3.7767207429921913`*^9, {
   3.776720871165455*^9, 3.776720872192595*^9}, {3.776720924078511*^9, 
   3.776720927305335*^9}, {3.776721016887981*^9, 3.776721018043108*^9}, {
   3.776721066616407*^9, 3.776721076748355*^9}, {3.7767211148050613`*^9, 
   3.776721148203521*^9}, {3.7767211785405073`*^9, 3.776721305256777*^9}, {
   3.776721335372939*^9, 3.7767213401450233`*^9}, {3.776721481518723*^9, 
   3.77672148329856*^9}, {3.776722197362226*^9, 3.776722197798423*^9}, {
   3.776722290626966*^9, 3.776722308049594*^9}, {3.7767223647013483`*^9, 
   3.776722378856419*^9}, {3.776722508038344*^9, 3.776722548213294*^9}, 
   3.7767226055787086`*^9, {3.7767226560086412`*^9, 3.776722681033244*^9}, 
   3.7767227311947536`*^9, {3.776722825586761*^9, 3.7767228261743937`*^9}, {
   3.77672286382379*^9, 3.776722956001192*^9}, {3.776723001967207*^9, 
   3.7767230476822157`*^9}, {3.7767231955289173`*^9, 3.776723352664402*^9}, {
   3.776775315927779*^9, 3.7767753672163754`*^9}, {3.776777025687736*^9, 
   3.7767770815982523`*^9}, {3.79216457161053*^9, 3.7921645916712723`*^9}, {
   3.831496488816535*^9, 3.831496602912854*^9}, {3.831496732294011*^9, 
   3.831496774748622*^9}},
 CellLabel->"In[16]:=",ExpressionUUID->"ffc4c0e6-2453-46cf-a4d4-da4e2b5ad1c7"],

Cell[BoxData[
 RowBox[{"Show", "[", 
  RowBox[{
   RowBox[{"Graphics3D", "[", "plateGraphic", "]"}], ",", 
   RowBox[{"ViewPoint", "->", 
    RowBox[{"{", 
     RowBox[{"1", ",", "1", ",", "5"}], "}"}]}], ",", 
   RowBox[{"ViewVertical", "->", 
    RowBox[{"{", 
     RowBox[{"0", ",", "0", ",", "1"}], "}"}]}], ",", 
   RowBox[{"ViewCenter", "->", 
    RowBox[{"{", 
     RowBox[{"0", ",", "0", ",", "1"}], "}"}]}], ",", 
   RowBox[{"Boxed", "->", "False"}], ",", 
   RowBox[{"PlotRange", "->", "All"}]}], "]"}]], "Input",
 CellGroupingRules->{"GroupTogetherGrouping", 10002.},
 CellChangeTimes->{{3.7504536254677143`*^9, 3.7504536307790947`*^9}, {
   3.750453702301196*^9, 3.750453880263492*^9}, {3.750453952433556*^9, 
   3.750454156011992*^9}, {3.7504542363489943`*^9, 3.75045424953454*^9}, {
   3.750454280991252*^9, 3.7504542835904837`*^9}, {3.750454336473463*^9, 
   3.750454345769239*^9}, 3.764643623264255*^9, 3.765658273941886*^9, {
   3.7766368164445972`*^9, 3.776636867344689*^9}, {3.831496798892284*^9, 
   3.8314968166528034`*^9}},
 CellLabel->"In[17]:=",ExpressionUUID->"3754a562-baf6-4712-a4c0-402b0b0c3dd9"]
}, Open  ]],

Cell[BoxData[
 Graphics3DBox[
  {EdgeForm[{RGBColor[1, 0, 0], Thickness[Large], Dashing[{Small, Small}]}], 
   CylinderBox[{{0, 0, -0.05}, {0, 0, 0.05}}, 0.5], 
   CylinderBox[{{0.35355339059327373`, 0.35355339059327373`, 0}, {
     0.8838834764831843, 0.8838834764831843, 0}}, 0.05], 
   CylinderBox[{{-0.35355339059327373`, -0.35355339059327373`, 
      0}, {-0.8838834764831843, -0.8838834764831843, 0}}, 0.05], 
   CylinderBox[{{0.35355339059327373`, -0.35355339059327373`, 0}, {
     0.8838834764831843, -0.8838834764831843, 0}}, 0.05], 
   CylinderBox[{{-0.35355339059327373`, 0.35355339059327373`, 
      0}, {-0.8838834764831843, 0.8838834764831843, 0}}, 0.05], 
   {AbsoluteThickness[2], Text3DBox[
     SubscriptBox[
      OverscriptBox["b", "^"], "1"], {1.5, 0, 0}, {0, 1}], Text3DBox[
     SubscriptBox[
      OverscriptBox["b", "^"], "2"], {0, 1.5, 0}, {0, 1}], Text3DBox[
     SubscriptBox[
      OverscriptBox["b", "^"], "3"], {0, 0, -1.5}, {0, 1}], 
    {RGBColor[1, 0, 0], AbsoluteThickness[1], 
     Line3DBox[{{0, 0, 0}, {1.5, 0, 0}}]}, 
    {RGBColor[0, 1, 0], AbsoluteThickness[1], 
     Line3DBox[{{0, 0, 0}, {0, 1.5, 0}}]}, 
    {RGBColor[0, 0, 1], AbsoluteThickness[1], 
     Line3DBox[{{0, 0, 0}, {0, 0, -1.5}}]}}},
  Boxed->False,
  ImageSize->{347.6066767443981, 248.00794628591063`},
  ImageSizeRaw->Automatic,
  PlotRange->All,
  ViewCenter->{0, 0, 1},
  ViewPoint->{1, 1, 5},
  ViewVertical->{0, 0, 1}]], "Output",
 CellChangeTimes->{
  3.794831849591194*^9, 3.794834395168426*^9, {3.831496495041714*^9, 
   3.8314965389908037`*^9}, {3.8314965856472006`*^9, 3.8314966055697584`*^9}, 
   3.8314966699532843`*^9, {3.831496735931009*^9, 3.8314968176872582`*^9}, 
   3.831648400193778*^9, {3.831851214194213*^9, 3.831851233278957*^9}, 
   3.831851279879567*^9, 3.8319023454755583`*^9, 3.832014052576683*^9, 
   3.832073355535302*^9, 3.832074207072869*^9, 3.832093758251753*^9, 
   3.832112543370983*^9, 3.8321165040516624`*^9, 3.832119067734518*^9},
 CellLabel->"Out[17]=",ExpressionUUID->"9372f2d3-0d56-4724-8eeb-797da6eb73af"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"quadGraphic", " ", "=", " ", 
   RowBox[{"{", 
    RowBox[{"Translate", "[", 
     RowBox[{"plateGraphic", ",", 
      RowBox[{"{", 
       RowBox[{"0", ",", "0", ",", "0"}], "}"}]}], "]"}], "}"}]}], 
  ";"}]], "Input",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.},
 CellChangeTimes->{{3.750462090185485*^9, 3.750462204176092*^9}, {
   3.7504622914891376`*^9, 3.750462294952744*^9}, {3.750462392242824*^9, 
   3.750462421051854*^9}, {3.750462472876145*^9, 3.75046252798901*^9}, 
   3.750462573142276*^9, {3.7504626464312677`*^9, 3.7504626556472683`*^9}, {
   3.750462726860464*^9, 3.7504627464889393`*^9}, {3.750462843955276*^9, 
   3.750462865555011*^9}, {3.750462979286978*^9, 3.75046303206411*^9}, {
   3.750463683803834*^9, 3.750463694875659*^9}, 3.764643623285468*^9, {
   3.776614774693222*^9, 3.776614793137166*^9}, {3.7766148929878397`*^9, 
   3.776614911819066*^9}, {3.776614946076805*^9, 3.776614946724123*^9}, {
   3.776615080007056*^9, 3.7766150941109056`*^9}, {3.776615206520547*^9, 
   3.7766152214812107`*^9}, {3.776723439435432*^9, 3.776723478429366*^9}, {
   3.791123002455093*^9, 3.7911230338061113`*^9}},
 CellLabel->"In[18]:=",ExpressionUUID->"8deda9e2-2fab-4732-a5ed-a928c9ec2b2f"],

Cell[BoxData[
 RowBox[{"Show", "[", 
  RowBox[{"GraphicsGrid", "[", 
   RowBox[{"{", 
    RowBox[{"{", 
     RowBox[{"Graphics3D", "[", 
      RowBox[{"quadGraphic", ",", 
       RowBox[{"ViewPoint", "\[Rule]", 
        RowBox[{"{", 
         RowBox[{"1", ",", "1", ",", "1"}], "}"}]}], ",", 
       RowBox[{"ViewVertical", "\[Rule]", 
        RowBox[{"{", 
         RowBox[{"0", ",", "0", ",", "1"}], "}"}]}], ",", 
       RowBox[{"ViewCenter", "\[Rule]", 
        RowBox[{"{", 
         RowBox[{
          FractionBox["1", "2"], ",", 
          FractionBox["1", "2"], ",", 
          FractionBox["1", "2"]}], "}"}]}], ",", 
       RowBox[{"Boxed", "\[Rule]", "False"}], ",", 
       RowBox[{"PlotRange", "\[Rule]", "All"}]}], "]"}], "}"}], "}"}], "]"}], 
  "]"}]], "Input",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.},
 CellChangeTimes->{{3.750462343200877*^9, 3.750462450340863*^9}, 
   3.7646436232862873`*^9},
 CellLabel->"In[19]:=",ExpressionUUID->"8ed1ecab-4b1d-409c-9a3d-b6436e16f33e"]
}, Open  ]],

Cell[BoxData[
 GraphicsBox[{{}, InsetBox[
    Graphics3DBox[GeometricTransformation3DBox[
      {EdgeForm[{RGBColor[1, 0, 0], Thickness[Large], 
       Dashing[{Small, Small}]}], 
       CylinderBox[{{0, 0, -0.05}, {0, 0, 0.05}}, 0.5], 
       CylinderBox[{{0.35355339059327373`, 0.35355339059327373`, 0}, {
         0.8838834764831843, 0.8838834764831843, 0}}, 0.05], 
       CylinderBox[{{-0.35355339059327373`, -0.35355339059327373`, 
          0}, {-0.8838834764831843, -0.8838834764831843, 0}}, 0.05], 
       CylinderBox[{{0.35355339059327373`, -0.35355339059327373`, 0}, {
         0.8838834764831843, -0.8838834764831843, 0}}, 0.05], 
       CylinderBox[{{-0.35355339059327373`, 0.35355339059327373`, 
          0}, {-0.8838834764831843, 0.8838834764831843, 0}}, 0.05], 
       {AbsoluteThickness[2], Text3DBox[
         SubscriptBox[
          OverscriptBox["b", "^"], "1"], {1.5, 0, 0}, {0, 1}], Text3DBox[
         SubscriptBox[
          OverscriptBox["b", "^"], "2"], {0, 1.5, 0}, {0, 1}], Text3DBox[
         SubscriptBox[
          OverscriptBox["b", "^"], "3"], {0, 0, -1.5}, {0, 1}], 
        {RGBColor[1, 0, 0], AbsoluteThickness[1], 
         Line3DBox[{{0, 0, 0}, {1.5, 0, 0}}]}, 
        {RGBColor[0, 1, 0], AbsoluteThickness[1], 
         Line3DBox[{{0, 0, 0}, {0, 1.5, 0}}]}, 
        {RGBColor[0, 0, 1], AbsoluteThickness[1], 
         Line3DBox[{{0, 0, 0}, {0, 0, -1.5}}]}}}, {0, 0, 0}],
     Boxed->False,
     PlotRange->All,
     ViewCenter->NCache[{
        Rational[1, 2], 
        Rational[1, 2], 
        Rational[1, 2]}, {0.5, 0.5, 0.5}],
     ViewPoint->{1, 1, 1},
     ViewVertical->{0, 0, 1}], {189., -164.85}, ImageScaled[{0.5, 0.5}], {360, 314},
    ContentSelectable->True], {}},
  ImageSize->Automatic,
  PlotRangePadding->{6, 5}]], "Output",
 CellChangeTimes->{
  3.794831849759941*^9, 3.794834396211999*^9, {3.831496495230547*^9, 
   3.831496539122323*^9}, 3.831496605707447*^9, 3.831496670094163*^9, {
   3.8314969835324554`*^9, 3.831496994697132*^9}, 3.831648400505459*^9, {
   3.8318512143407865`*^9, 3.8318512333907766`*^9}, 3.831851279974904*^9, 
   3.831902345643713*^9, 3.8320140527279415`*^9, 3.8320733556854825`*^9, 
   3.8320742071859117`*^9, 3.832093758402776*^9, 3.8321125434818573`*^9, 
   3.8321165041623306`*^9, 3.832119067837227*^9},
 CellLabel->"Out[19]=",ExpressionUUID->"fb4ae558-98a0-411b-be0b-5e858c921020"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["PLANT Dynamics", "Title",
 CellChangeTimes->{{3.831648358277148*^9, 3.8316483618196735`*^9}, {
  3.8321032185252695`*^9, 
  3.8321032387252784`*^9}},ExpressionUUID->"47d2fdf8-6c0d-4644-b517-\
5fa21e8ca7b6"],

Cell[CellGroupData[{

Cell["Motor Mixing", "Section",
 CellChangeTimes->{{3.779127524585292*^9, 3.77912757788933*^9}, {
  3.83149829650959*^9, 3.831498334501667*^9}, {3.831648570638501*^9, 
  3.831648573490569*^9}, {3.8316766776053057`*^9, 3.8316766866242228`*^9}, {
  3.8316770473489237`*^9, 3.831677055005042*^9}, {3.831729032772607*^9, 
  3.8317290391126575`*^9}},ExpressionUUID->"e97971c6-78ff-4aaf-b10d-\
97bc56e33ca6"],

Cell["\<\
Let\[CloseCurlyQuote]s assume we don\[CloseCurlyQuote]t know the rotor \
spinning direction and let say all of them spins in one direction.\
\>", "Text",
 InitializationCell->True,
 CellChangeTimes->{{3.832007494032584*^9, 
  3.832007544146084*^9}},ExpressionUUID->"15d0fcca-06d8-407d-9cce-\
3891f9316b53"],

Cell["\<\
Motor 1 (front left) and 3 rotates (rear left) clockwise. 
Motor 2 (front right) and 4 rotates (rear right) counter clockwise.\
\>", "Text",
 CellChangeTimes->{{3.832002069845851*^9, 3.8320020969577785`*^9}, {
  3.8320124985478635`*^9, 
  3.8320125720312166`*^9}},ExpressionUUID->"2e73eb16-af48-47e7-81e1-\
2564ff34586f"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"l", "=", 
    RowBox[{"L", "/", 
     RowBox[{"(", 
      RowBox[{"2", "*", 
       RowBox[{"Sqrt", "[", "2", "]"}]}], ")"}]}]}], ";"}], " ", 
  RowBox[{"(*", 
   RowBox[{
    RowBox[{"L", " ", "is", " ", "the", " ", "arm", " ", "length", " ", 
     RowBox[{"(", 
      RowBox[{
      "one", " ", "rotor", " ", "to", " ", "another", " ", "rotor", " ", 
       "along", " ", "same", " ", "axis"}], ")"}]}], ",", " ", 
    RowBox[{
    "and", " ", "l", " ", "is", " ", "the", " ", "moment", " ", "arm", " ", 
     "length", " ", "between", " ", "x", " ", "or", " ", "y", " ", "axis", 
     " ", "to", " ", "the", " ", "rotors"}]}], "*)"}]}]], "Input",
 CellChangeTimes->{{3.8317279457662506`*^9, 3.8317280401935167`*^9}, {
  3.831752230214278*^9, 3.8317522380758324`*^9}, {3.8320038117797766`*^9, 
  3.8320039307296925`*^9}},
 CellLabel->"In[20]:=",ExpressionUUID->"61daadaf-6653-4c4b-b120-a59783fd310c"],

Cell[BoxData[
 RowBox[{
  RowBox[{"\[Kappa]", ";"}], 
  RowBox[{"(*", 
   RowBox[{
    RowBox[{"drag", "/", "thrust"}], ",", " ", 
    RowBox[{"with", " ", "units", " ", "of", " ", 
     RowBox[{
      RowBox[{"N", ".", "m"}], "/", "N"}]}]}], "*)"}]}]], "Input",
 CellChangeTimes->{{3.8320044609556403`*^9, 3.832004493954528*^9}},
 CellLabel->"In[21]:=",ExpressionUUID->"4a3c9d21-80db-427f-88c7-1d951d3278c9"],

Cell[BoxData[
 RowBox[{
  RowBox[{"cT", ";"}], 
  RowBox[{"(*", 
   RowBox[{"Total", " ", "collective", " ", "thrust"}], "*)"}]}]], "Input",
 CellLabel->"In[22]:=",ExpressionUUID->"88944c73-4b3c-4e9b-849d-a4b440f0f725"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"\[Delta]Tx", "=", 
  RowBox[{"momentCmdX", " ", "/", "l", " ", 
   RowBox[{"(*", 
    RowBox[{
     RowBox[{
     "Differential", " ", "Thrust", " ", "in", " ", "body", " ", "x"}], "-", 
     "axis"}], "*)"}]}]}]], "Input",
 CellChangeTimes->{{3.8320032284889708`*^9, 3.832003295044936*^9}, {
   3.832003533483805*^9, 3.832003534145797*^9}, {3.8320036062550917`*^9, 
   3.8320036332583823`*^9}, 3.8320039437543077`*^9, {3.8320044531635804`*^9, 
   3.8320044562732134`*^9}},
 CellLabel->"In[23]:=",ExpressionUUID->"ef3f0c2e-fdbb-4271-a806-ef1534f723cc"],

Cell[BoxData[
 FractionBox[
  RowBox[{"2", " ", 
   SqrtBox["2"], " ", "momentCmdX"}], "L"]], "Output",
 CellChangeTimes->{
  3.8320040905033503`*^9, 3.832006121981886*^9, 3.8320065383817325`*^9, 
   3.832009504623647*^9, 3.83200995472018*^9, 3.832010548074379*^9, {
   3.8320109632065735`*^9, 3.8320109943511753`*^9}, 3.8320120879744987`*^9, 
   3.8320140532194357`*^9, 3.8320733581545544`*^9, 3.832074208744108*^9, 
   3.832093759884013*^9, 3.83211254378913*^9, 3.832116504528112*^9, 
   3.832119067872757*^9},
 CellLabel->"Out[23]=",ExpressionUUID->"7e87ebdb-2591-4db5-bec7-f708cc296409"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"\[Delta]Ty", "=", 
  RowBox[{"momentCmdY", "/", "l", 
   RowBox[{"(*", 
    RowBox[{
     RowBox[{
     "Differential", " ", "Thrust", " ", "in", " ", "body", " ", "y"}], "-", 
     "axis"}], "*)"}]}]}]], "Input",
 CellChangeTimes->{{3.832003578561516*^9, 3.8320036042219925`*^9}, {
   3.8320036408407316`*^9, 3.832003652521843*^9}, 3.832003945809699*^9},
 CellLabel->"In[24]:=",ExpressionUUID->"3fba42e0-bae4-4b13-a5e6-7caa07d84f4e"],

Cell[BoxData[
 FractionBox[
  RowBox[{"2", " ", 
   SqrtBox["2"], " ", "momentCmdY"}], "L"]], "Output",
 CellChangeTimes->{
  3.83200409053226*^9, 3.832006122008602*^9, 3.832006538414663*^9, 
   3.832009504659698*^9, 3.8320099547523775`*^9, 3.8320105481080766`*^9, {
   3.832010963214882*^9, 3.8320109943602505`*^9}, 3.8320120880065055`*^9, 
   3.832014053316311*^9, 3.8320742095527086`*^9, 3.8320937599116764`*^9, 
   3.8321125438115487`*^9, 3.832116504551731*^9, 3.8321190678998003`*^9},
 CellLabel->"Out[24]=",ExpressionUUID->"19382234-8747-4eec-8f27-a400458a5bbc"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"\[Delta]Tz", "=", 
  RowBox[{"momentCmdZ", "*", "\[Kappa]", 
   RowBox[{"(*", 
    RowBox[{
     RowBox[{
     "Differential", " ", "Thrust", " ", "in", " ", "body", " ", "z"}], "-", 
     "axis"}], "*)"}]}]}]], "Input",
 CellChangeTimes->{{3.832003658907613*^9, 3.8320036735648518`*^9}, {
  3.8320039383327103`*^9, 3.8320039477987337`*^9}, {3.8320042107663946`*^9, 
  3.832004217098745*^9}},
 CellLabel->"In[25]:=",ExpressionUUID->"b4a54f54-1d6f-4410-b6b7-abc51038cf2b"],

Cell[BoxData[
 RowBox[{"momentCmdZ", " ", "\[Kappa]"}]], "Output",
 CellChangeTimes->{
  3.8320040905569525`*^9, 3.8320042189397297`*^9, 3.8320061220153913`*^9, 
   3.8320065384455442`*^9, 3.83200950466755*^9, 3.8320099547630515`*^9, 
   3.8320105481421843`*^9, {3.8320109632526426`*^9, 3.8320109943875437`*^9}, 
   3.832012088015297*^9, 3.8320140533486834`*^9, 3.832073358206148*^9, 
   3.8320742095973125`*^9, 3.8320937599440546`*^9, 3.8321125438282785`*^9, 
   3.832116504559839*^9, 3.8321190679225335`*^9},
 CellLabel->"Out[25]=",ExpressionUUID->"554055ac-95ff-4048-b7a4-c11b78eea75d"]
}, Open  ]],

Cell[BoxData[{
 RowBox[{
  RowBox[{"eqMM1", "=", 
   RowBox[{"cT", " ", "\[Equal]", " ", 
    RowBox[{"F1", "+", "F2", "+", "F3", "+", "F4"}]}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"eqMM2", " ", "=", " ", 
   RowBox[{"\[Delta]Tx", " ", "==", " ", 
    RowBox[{"(", 
     RowBox[{"F1", "-", "F2", "+", "F3", "-", "F4"}], ")"}]}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"eqMM3", " ", "=", " ", 
   RowBox[{"\[Delta]Ty", " ", "==", 
    RowBox[{"(", 
     RowBox[{"F1", "+", "F2", "-", "F3", "-", "F4"}], " ", ")"}]}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"eqMM4", " ", "=", "  ", 
   RowBox[{"\[Delta]Tz", " ", "==", "  ", 
    RowBox[{"(", 
     RowBox[{
      RowBox[{"-", "F1"}], "+", "F2", "+", "F3", "-", "F4"}], ")"}]}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"(*", 
   RowBox[{
    RowBox[{
     RowBox[{"-", "momentCmdZ"}], "*", "Kappa"}], " ", "=", " ", "r_bar"}], 
   "*)"}], 
  RowBox[{"(*", 
   RowBox[{
    RowBox[{"moment", " ", "in", " ", "z"}], "-", 
    RowBox[{
    "axis", " ", "are", " ", "just", " ", "the", " ", "reaction", " ", 
     "moments"}]}], "*)"}], " "}]}], "Input",
 CellChangeTimes->{{3.831676924773547*^9, 3.8316770141691074`*^9}, {
   3.8316770611930866`*^9, 3.8316771341849957`*^9}, {3.831727599176625*^9, 
   3.8317277491114793`*^9}, {3.8317279172611504`*^9, 
   3.8317279338632946`*^9}, {3.8317507180717497`*^9, 
   3.8317507377288485`*^9}, {3.831751158171611*^9, 3.8317511618406525`*^9}, {
   3.8317512292303867`*^9, 3.831751233009583*^9}, {3.8317514948023896`*^9, 
   3.8317515291216536`*^9}, 3.8317518181742077`*^9, 3.831752097207065*^9, {
   3.831752146986293*^9, 3.8317521576200013`*^9}, {3.8317522942818203`*^9, 
   3.8317523065417995`*^9}, {3.8317527211357136`*^9, 3.831752749763791*^9}, {
   3.8317527895859385`*^9, 3.831752920501085*^9}, {3.8317534005090513`*^9, 
   3.8317534094865*^9}, {3.831753942201189*^9, 3.8317539848401184`*^9}, {
   3.8320019112925024`*^9, 3.8320019455629168`*^9}, {3.83200200335738*^9, 
   3.8320020314188223`*^9}, {3.832002112590764*^9, 3.83200215269073*^9}, {
   3.832002263978753*^9, 3.8320022756021166`*^9}, {3.8320039595376606`*^9, 
   3.8320040123095083`*^9}, {3.832004060109706*^9, 3.832004086512968*^9}, {
   3.832004129056035*^9, 3.832004159839937*^9}, {3.832004193617605*^9, 
   3.832004226453509*^9}, {3.8320042908494883`*^9, 3.8320043045595818`*^9}, {
   3.83200946008554*^9, 3.8320095191044827`*^9}, {3.8320105995929217`*^9, 
   3.832010602536237*^9}, {3.8320109673154716`*^9, 3.8320109902615476`*^9}, {
   3.8320118762196803`*^9, 3.8320118949387455`*^9}, {3.8320120811651406`*^9, 
   3.832012084857142*^9}},
 CellLabel->"In[26]:=",ExpressionUUID->"fd3c3fca-d430-47b1-bbd2-776bc7318b09"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"MMsol", "=", 
  RowBox[{
   RowBox[{"Solve", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"eqMM1", ",", "eqMM2", ",", "eqMM3", ",", "eqMM4"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"F1", ",", "F2", ",", "F3", ",", "F4"}], "}"}]}], "]"}], "//", 
   "FullSimplify"}]}]], "Input",
 CellChangeTimes->{{3.831727687894421*^9, 3.831727700171239*^9}, {
  3.8317277571703577`*^9, 3.8317277766783423`*^9}, {3.831727894578365*^9, 
  3.8317278968303413`*^9}, {3.8317283202248507`*^9, 3.8317283243201447`*^9}, {
  3.832004102255822*^9, 3.8320041255296183`*^9}, {3.8320042633365793`*^9, 
  3.8320042673104906`*^9}},
 CellLabel->"In[30]:=",ExpressionUUID->"703bbfb7-c26c-4fec-84f0-cf114677d16b"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"{", 
   RowBox[{
    RowBox[{"F1", "\[Rule]", 
     RowBox[{
      FractionBox["1", "4"], " ", 
      RowBox[{"(", 
       RowBox[{"cT", "+", 
        FractionBox[
         RowBox[{"2", " ", 
          SqrtBox["2"], " ", 
          RowBox[{"(", 
           RowBox[{"momentCmdX", "+", "momentCmdY"}], ")"}]}], "L"], "-", 
        RowBox[{"momentCmdZ", " ", "\[Kappa]"}]}], ")"}]}]}], ",", 
    RowBox[{"F2", "\[Rule]", 
     RowBox[{
      FractionBox["1", "4"], " ", 
      RowBox[{"(", 
       RowBox[{"cT", "+", 
        FractionBox[
         RowBox[{"2", " ", 
          SqrtBox["2"], " ", 
          RowBox[{"(", 
           RowBox[{
            RowBox[{"-", "momentCmdX"}], "+", "momentCmdY"}], ")"}]}], "L"], 
        "+", 
        RowBox[{"momentCmdZ", " ", "\[Kappa]"}]}], ")"}]}]}], ",", 
    RowBox[{"F3", "\[Rule]", 
     RowBox[{
      FractionBox["1", "4"], " ", 
      RowBox[{"(", 
       RowBox[{"cT", "+", 
        FractionBox[
         RowBox[{"2", " ", 
          SqrtBox["2"], " ", 
          RowBox[{"(", 
           RowBox[{"momentCmdX", "-", "momentCmdY"}], ")"}]}], "L"], "+", 
        RowBox[{"momentCmdZ", " ", "\[Kappa]"}]}], ")"}]}]}], ",", 
    RowBox[{"F4", "\[Rule]", 
     RowBox[{
      FractionBox["1", "4"], " ", 
      RowBox[{"(", 
       RowBox[{"cT", "-", 
        FractionBox[
         RowBox[{"2", " ", 
          SqrtBox["2"], " ", 
          RowBox[{"(", 
           RowBox[{"momentCmdX", "+", "momentCmdY"}], ")"}]}], "L"], "-", 
        RowBox[{"momentCmdZ", " ", "\[Kappa]"}]}], ")"}]}]}]}], "}"}], 
  "}"}]], "Output",
 CellChangeTimes->{
  3.8317277807812357`*^9, 3.831727898044043*^9, 3.8317283247729383`*^9, 
   3.831750743478366*^9, 3.831750782943262*^9, {3.8317511748625145`*^9, 
   3.8317511973635693`*^9}, 3.8317512418699465`*^9, 3.8317515365667944`*^9, 
   3.8317518220401216`*^9, 3.831752104005685*^9, 3.8317521681025033`*^9, 
   3.8317522501523423`*^9, {3.8317522980274334`*^9, 3.831752311619239*^9}, {
   3.8317528980680504`*^9, 3.831752924597929*^9}, {3.831753403500104*^9, 
   3.8317534124305696`*^9}, 3.8317538113278522`*^9, 3.831753957837173*^9, {
   3.8317539892006607`*^9, 3.83175400331715*^9}, {3.831851214624197*^9, 
   3.8318512336844473`*^9}, 3.8318512803004026`*^9, 3.8319023460336504`*^9, 
   3.832004090672634*^9, 3.83200423581182*^9, 3.8320042683437433`*^9, 
   3.8320043078938212`*^9, 3.832006122067196*^9, 3.832006538484615*^9, 
   3.8320095047462983`*^9, 3.8320099548417597`*^9, 3.8320105485089407`*^9, {
   3.8320109633116207`*^9, 3.8320109944328346`*^9}, 3.832011886446734*^9, 
   3.832012088067711*^9, 3.8320140535698833`*^9, 3.832073358433566*^9, 
   3.832074209822219*^9, 3.8320937610279493`*^9, 3.8321125440418053`*^9, 
   3.832116504780837*^9, 3.832119068141564*^9},
 CellLabel->"Out[30]=",ExpressionUUID->"6152ceea-c0db-44f9-9316-650bb6a50fe4"]
}, Open  ]],

Cell[TextData[{
 "Here is the function created for motor mixing: \nInputs are commanded by \
controller: (collectThrust cT, momentCmdX, momentCmdY,momentCmdZ)\nOutputs \
are the necessary Thrust to be produced by individual motors ",
 Cell[BoxData[
  FormBox[
   RowBox[{"(", 
    RowBox[{
     SubscriptBox["F", "i"], ","}]}], TraditionalForm]],
  FormatType->TraditionalForm,ExpressionUUID->
  "c60c4043-a6e2-4bb7-832d-067a03fbdb56"],
 " i=1,2,3,4)."
}], "Text",
 CellChangeTimes->{{3.832004657200323*^9, 3.8320047595192137`*^9}, {
  3.832004805852064*^9, 3.832004964072481*^9}, {3.8320126269117484`*^9, 
  3.8320126289926686`*^9}},ExpressionUUID->"a819e731-fb57-43b6-854e-\
01ce47f91390"],

Cell[BoxData[
 RowBox[{
  RowBox[{"GenerateMotorCommands", "[", 
   RowBox[{
   "cT_", ",", "momentCmdX_", ",", "momentCmdY_", ",", "momentCmdZ_"}], "]"}],
   ":=", 
  RowBox[{"{", 
   RowBox[{
    RowBox[{
     RowBox[{"1", "/", "4"}], 
     RowBox[{"(", 
      RowBox[{"cT", "+", 
       RowBox[{"2", " ", 
        RowBox[{"Sqrt", "[", "2", "]"}], 
        RowBox[{
         RowBox[{"(", 
          RowBox[{"momentCmdX", "+", "momentCmdY"}], ")"}], "/", "L"}]}], "-", 
       RowBox[{"momentCmdZ", " ", "\[Kappa]"}]}], ")"}]}], ",", 
    RowBox[{
     RowBox[{"1", "/", "4"}], 
     RowBox[{"(", 
      RowBox[{"cT", "+", 
       RowBox[{"2", " ", 
        RowBox[{"Sqrt", "[", "2", "]"}], 
        RowBox[{
         RowBox[{"(", 
          RowBox[{
           RowBox[{"-", "momentCmdX"}], "+", "momentCmdY"}], ")"}], "/", 
         "L"}]}], "+", 
       RowBox[{"momentCmdZ", " ", "\[Kappa]"}]}], ")"}]}], ",", 
    RowBox[{
     RowBox[{"1", "/", "4"}], 
     RowBox[{"(", 
      RowBox[{"cT", "+", 
       RowBox[{"2", " ", 
        RowBox[{"Sqrt", "[", "2", "]"}], 
        RowBox[{
         RowBox[{"(", 
          RowBox[{"momentCmdX", "-", "momentCmdY"}], ")"}], "/", "L"}]}], "+", 
       RowBox[{"momentCmdZ", " ", "\[Kappa]"}]}], ")"}]}], ",", 
    RowBox[{
     RowBox[{"1", "/", "4"}], 
     RowBox[{"(", 
      RowBox[{"cT", "-", 
       RowBox[{"2", " ", 
        RowBox[{"Sqrt", "[", "2", "]"}], 
        RowBox[{
         RowBox[{"(", 
          RowBox[{"momentCmdX", "+", "momentCmdY"}], ")"}], "/", "L"}]}], "-", 
       RowBox[{"momentCmdZ", " ", "\[Kappa]"}]}], ")"}]}]}], "}"}]}]], "Input",
 CellChangeTimes->{{3.8320050633415947`*^9, 3.832005076322713*^9}, {
  3.8320055913176126`*^9, 3.8320056112838435`*^9}, {3.8320056809543715`*^9, 
  3.832005724616607*^9}, {3.832005798052949*^9, 3.8320058018748713`*^9}, {
  3.8320058918012896`*^9, 3.8320059185326586`*^9}, {3.8320060055359683`*^9, 
  3.832006117417215*^9}, {3.8320065028982487`*^9, 3.832006513012247*^9}, {
  3.8320065493037863`*^9, 3.8320065527177477`*^9}, {3.8320100146692348`*^9, 
  3.83201001513618*^9}, {3.8320136611234837`*^9, 3.832013699413815*^9}},
 CellLabel->"In[31]:=",ExpressionUUID->"062a3d71-7504-4f87-b9f0-77852a4b8585"]
}, Open  ]],

Cell[CellGroupData[{

Cell["\<\
Euler-Newton Equations to get linear and angular accelerations\
\>", "Section",
 CellChangeTimes->{{3.779127524585292*^9, 3.77912757788933*^9}, {
  3.83149829650959*^9, 3.831498334501667*^9}, {3.831648570638501*^9, 
  3.831648573490569*^9}, {3.831676426484557*^9, 3.8316764421796083`*^9}, {
  3.831729956908538*^9, 
  3.8317299742914505`*^9}},ExpressionUUID->"b77989f8-2b86-4ab3-9e5d-\
ced9f47ec7d0"],

Cell[TextData[StyleBox["Generic Rotations for Clockwise Direction",
 FontColor->RGBColor[0.6, 0.4, 0.2]]], "Text",
 CellChangeTimes->{{3.831498043650139*^9, 3.83149808243443*^9}, 
   3.831498138635461*^9, {3.831498196496827*^9, 3.8314982045845985`*^9}, {
   3.831498273345645*^9, 
   3.8314982807626*^9}},ExpressionUUID->"dd2fc264-2bb2-4a58-8596-\
c2a88d78eeee"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"rot1", "[", "\[Gamma]_", "]"}], " ", "=", " ", 
  RowBox[{"RotationMatrix", "[", 
   RowBox[{"\[Gamma]", ",", " ", 
    RowBox[{"{", 
     RowBox[{"1", ",", " ", "0", ",", " ", "0"}], "}"}]}], "]"}]}]], "Input",
 CellChangeTimes->{{3.777663030573206*^9, 3.777663034788117*^9}, 
   3.831497158106722*^9, {3.8314972188396597`*^9, 3.8314972805160537`*^9}, 
   3.8316483786530886`*^9, 3.831851271952154*^9},
 CellLabel->"In[32]:=",ExpressionUUID->"8cfeb68a-945b-4bef-84d3-d1da99bf6183"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{"1", ",", "0", ",", "0"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", 
     RowBox[{"Cos", "[", "\[Gamma]", "]"}], ",", 
     RowBox[{"-", 
      RowBox[{"Sin", "[", "\[Gamma]", "]"}]}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", 
     RowBox[{"Sin", "[", "\[Gamma]", "]"}], ",", 
     RowBox[{"Cos", "[", "\[Gamma]", "]"}]}], "}"}]}], "}"}]], "Output",
 CellChangeTimes->{3.8318512800142016`*^9, 3.831902345672772*^9, 
  3.8320140527643304`*^9, 3.8320733584923806`*^9, 3.832074209894026*^9, 
  3.8320937610940795`*^9, 3.8321125440652976`*^9, 3.832116504809042*^9, 
  3.832119068168575*^9},
 CellLabel->"Out[32]=",ExpressionUUID->"7a61e075-4021-4d66-86c4-f2f2a044d4da"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"MatrixForm", " ", "[", 
  RowBox[{"rot1", "[", "\[Phi]", "]"}], "]"}]], "Input",
 CellChangeTimes->{{3.751654547984321*^9, 3.7516545490944138`*^9}, {
   3.751658184736701*^9, 3.751658193992271*^9}, {3.75165994718967*^9, 
   3.751659947797255*^9}, {3.792179515614324*^9, 3.792179545454097*^9}, 
   3.831497864146965*^9, {3.8314978986301193`*^9, 3.831497904218147*^9}},
 CellLabel->"In[33]:=",ExpressionUUID->"b7c728d9-1d56-43c9-96af-90344b73ad75"],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {"1", "0", "0"},
     {"0", 
      RowBox[{"Cos", "[", "\[Phi]", "]"}], 
      RowBox[{"-", 
       RowBox[{"Sin", "[", "\[Phi]", "]"}]}]},
     {"0", 
      RowBox[{"Sin", "[", "\[Phi]", "]"}], 
      RowBox[{"Cos", "[", "\[Phi]", "]"}]}
    },
    GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[BoxForm`e$]]]], "Output",
 CellChangeTimes->{
  3.831648400544279*^9, {3.8318512143871503`*^9, 3.8318512334273252`*^9}, 
   3.8318512800448675`*^9, 3.8319023456809545`*^9, 3.8320140527966313`*^9, 
   3.832073358533272*^9, 3.832074209902443*^9, 3.8320937611290226`*^9, 
   3.8321125440865765`*^9, 3.832116504895968*^9, 3.832119069365176*^9},
 CellLabel->
  "Out[33]//MatrixForm=",ExpressionUUID->"a3a0b144-328d-4678-8527-\
e85020ee951c"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"rot2", "[", "\[Gamma]_", "]"}], "  ", "=", " ", 
  RowBox[{"RotationMatrix", "[", 
   RowBox[{"\[Gamma]", ",", " ", 
    RowBox[{"{", 
     RowBox[{"0", ",", " ", "1", ",", " ", "0"}], "}"}]}], "]"}]}]], "Input",
 CellChangeTimes->{{3.777663048213469*^9, 3.777663051228471*^9}, {
   3.8314979318032336`*^9, 3.8314979439584894`*^9}, 3.831648383612686*^9, 
   3.8318512747189493`*^9},
 CellLabel->"In[34]:=",ExpressionUUID->"92043579-003c-4fbd-a0eb-4193af5a797f"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
     RowBox[{"Cos", "[", "\[Gamma]", "]"}], ",", "0", ",", 
     RowBox[{"Sin", "[", "\[Gamma]", "]"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", "1", ",", "0"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"-", 
      RowBox[{"Sin", "[", "\[Gamma]", "]"}]}], ",", "0", ",", 
     RowBox[{"Cos", "[", "\[Gamma]", "]"}]}], "}"}]}], "}"}]], "Output",
 CellChangeTimes->{3.831851280073561*^9, 3.8319023456887584`*^9, 
  3.8320140528307047`*^9, 3.83207335854125*^9, 3.8320742099481273`*^9, 
  3.8320937611379986`*^9, 3.8321125440932374`*^9, 3.83211650491897*^9, 
  3.8321190701802287`*^9},
 CellLabel->"Out[34]=",ExpressionUUID->"60ee7dd1-238a-417c-b603-87397d4fdb85"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"MatrixForm", "[", 
  RowBox[{"rot2", "[", "\[Theta]", "]"}], "]"}]], "Input",
 CellChangeTimes->{{3.751062921201955*^9, 3.751062931209511*^9}, {
  3.751654554175035*^9, 3.7516545548463783`*^9}, {3.75165817090443*^9, 
  3.7516581816080437`*^9}, {3.7516599401656523`*^9, 3.7516599408693027`*^9}, {
  3.7776629380110483`*^9, 3.7776629400277452`*^9}, {3.777663064598044*^9, 
  3.777663072998259*^9}, {3.7921795566946507`*^9, 3.792179572771399*^9}, {
  3.8314979503978605`*^9, 3.83149796375416*^9}},
 CellLabel->"In[35]:=",ExpressionUUID->"ff760338-c766-4f79-901b-202a4cc687c7"],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {
      RowBox[{"Cos", "[", "\[Theta]", "]"}], "0", 
      RowBox[{"Sin", "[", "\[Theta]", "]"}]},
     {"0", "1", "0"},
     {
      RowBox[{"-", 
       RowBox[{"Sin", "[", "\[Theta]", "]"}]}], "0", 
      RowBox[{"Cos", "[", "\[Theta]", "]"}]}
    },
    GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[BoxForm`e$]]]], "Output",
 CellChangeTimes->{
  3.794831849878994*^9, 3.7948343967777367`*^9, 3.8314979678172026`*^9, 
   3.8316484005800505`*^9, {3.8318512144203744`*^9, 3.831851233467514*^9}, 
   3.831851280102643*^9, 3.831902345721684*^9, 3.8320140528410034`*^9, 
   3.8320733585851326`*^9, 3.8320742099910116`*^9, 3.8320937611669216`*^9, 
   3.8321125441120963`*^9, 3.832116504942695*^9, 3.8321190701882086`*^9},
 CellLabel->
  "Out[35]//MatrixForm=",ExpressionUUID->"74b8ea02-85df-4bff-a4e6-\
4843d626d058"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"rot3", "[", "\[Gamma]_", "]"}], "  ", "=", " ", 
  RowBox[{"RotationMatrix", "[", 
   RowBox[{"\[Gamma]", ",", " ", 
    RowBox[{"{", 
     RowBox[{"0", ",", " ", "0", ",", " ", "1"}], "}"}]}], "]"}]}]], "Input",
 CellChangeTimes->{{3.777663048213469*^9, 3.777663051228471*^9}, {
   3.7776736590301247`*^9, 3.777673665090304*^9}, {3.8314979799152308`*^9, 
   3.831497989050306*^9}, 3.831648387444672*^9, 3.8318512772670107`*^9},
 CellLabel->"In[36]:=",ExpressionUUID->"6ff5b4b1-c462-4ba4-8d8a-23a507afe134"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
     RowBox[{"Cos", "[", "\[Gamma]", "]"}], ",", 
     RowBox[{"-", 
      RowBox[{"Sin", "[", "\[Gamma]", "]"}]}], ",", "0"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"Sin", "[", "\[Gamma]", "]"}], ",", 
     RowBox[{"Cos", "[", "\[Gamma]", "]"}], ",", "0"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", "0", ",", "1"}], "}"}]}], "}"}]], "Output",
 CellChangeTimes->{3.8318512801092463`*^9, 3.831902345730714*^9, 
  3.8320140528783627`*^9, 3.83207335863101*^9, 3.8320742099999886`*^9, 
  3.8320937611958447`*^9, 3.8321125441195*^9, 3.832116504951373*^9, 
  3.8321190702181273`*^9},
 CellLabel->"Out[36]=",ExpressionUUID->"f8320a17-34e2-4a39-95a5-90addc55c99d"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"MatrixForm", "[", 
  RowBox[{"rot3", "[", "\[Psi]", "]"}], "]"}]], "Input",
 CellChangeTimes->{{3.831498012794347*^9, 3.831498024870228*^9}},
 CellLabel->"In[37]:=",ExpressionUUID->"920b804b-8cc9-40f9-9724-405c98375c50"],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {
      RowBox[{"Cos", "[", "\[Psi]", "]"}], 
      RowBox[{"-", 
       RowBox[{"Sin", "[", "\[Psi]", "]"}]}], "0"},
     {
      RowBox[{"Sin", "[", "\[Psi]", "]"}], 
      RowBox[{"Cos", "[", "\[Psi]", "]"}], "0"},
     {"0", "0", "1"}
    },
    GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[BoxForm`e$]]]], "Output",
 CellChangeTimes->{
  3.79483184992871*^9, 3.794834396912801*^9, 3.83149802545267*^9, 
   3.831648400615657*^9, {3.831851214462155*^9, 3.8318512335063295`*^9}, 
   3.8318512801414976`*^9, 3.831902345758297*^9, 3.8320140528883877`*^9, 
   3.832073358639986*^9, 3.832074210046876*^9, 3.832093761203823*^9, 
   3.8321125441384172`*^9, 3.832116504976164*^9, 3.8321190702478886`*^9},
 CellLabel->
  "Out[37]//MatrixForm=",ExpressionUUID->"733b2c60-e750-42b9-a940-\
47bb41c378cf"]
}, Open  ]],

Cell[TextData[StyleBox["Rotation Matrix or Direction Cosine Matrix",
 FontColor->RGBColor[0.6, 0.4, 0.2]]], "Text",
 CellChangeTimes->{{3.831498043650139*^9, 3.83149808243443*^9}, 
   3.831498138635461*^9, {3.831498196496827*^9, 3.8314982045845985`*^9}, {
   3.831498273345645*^9, 3.8314982807626*^9}, {3.832035120708821*^9, 
   3.8320351402980804`*^9}},ExpressionUUID->"65f66ef7-bc6f-4939-bbc1-\
66cab567dec9"],

Cell[BoxData[
 RowBox[{
  RowBox[{"Rot", "[", 
   RowBox[{"\[Phi]_", ",", "\[Theta]_", ",", "\[Psi]_"}], "]"}], ":=", 
  RowBox[{
   RowBox[{"rot3", "[", "\[Psi]", "]"}], ".", 
   RowBox[{"rot2", "[", "\[Theta]", "]"}], ".", 
   RowBox[{"rot1", "[", "\[Phi]", "]"}]}]}]], "Input",
 CellChangeTimes->{{3.831498339040455*^9, 3.8314984001746874`*^9}, {
   3.8314995220460844`*^9, 3.8314995264900355`*^9}, {3.8315000746417437`*^9, 
   3.8315000816708207`*^9}, {3.8316484435972013`*^9, 
   3.8316485040379286`*^9}, {3.831731726621113*^9, 3.8317317267930565`*^9}, {
   3.83185118376237*^9, 3.8318512042036943`*^9}, 3.8318512654299912`*^9, {
   3.8318512976779013`*^9, 3.8318513072622867`*^9}, {3.832001653567026*^9, 
   3.8320016963733788`*^9}, {3.8320135094912586`*^9, 
   3.8320135356701508`*^9}, {3.8320140164519835`*^9, 3.832014027433191*^9}},
 CellLabel->"In[38]:=",ExpressionUUID->"af7c219f-e91a-4a7a-bde1-855ff9e83b47"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"MatrixForm", "[", 
  RowBox[{"Rot", "[", 
   RowBox[{"\[Phi]", ",", "\[Theta]", ",", "\[Psi]"}], "]"}], "]"}]], "Input",
 CellChangeTimes->{{3.831499557153057*^9, 3.831499563941736*^9}, {
  3.8316485171988916`*^9, 3.831648528307703*^9}, {3.831731730881135*^9, 
  3.831731732760413*^9}, {3.8318512076862125`*^9, 3.8318512078763638`*^9}, {
  3.832001673261504*^9, 3.832001682622072*^9}, {3.832014030275509*^9, 
  3.832014030507553*^9}},
 CellLabel->"In[39]:=",ExpressionUUID->"cab78414-9fac-43b9-835e-0f4e9056e3d5"],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {
      RowBox[{
       RowBox[{"Cos", "[", "\[Theta]", "]"}], " ", 
       RowBox[{"Cos", "[", "\[Psi]", "]"}]}], 
      RowBox[{
       RowBox[{
        RowBox[{"Cos", "[", "\[Psi]", "]"}], " ", 
        RowBox[{"Sin", "[", "\[Theta]", "]"}], " ", 
        RowBox[{"Sin", "[", "\[Phi]", "]"}]}], "-", 
       RowBox[{
        RowBox[{"Cos", "[", "\[Phi]", "]"}], " ", 
        RowBox[{"Sin", "[", "\[Psi]", "]"}]}]}], 
      RowBox[{
       RowBox[{
        RowBox[{"Cos", "[", "\[Phi]", "]"}], " ", 
        RowBox[{"Cos", "[", "\[Psi]", "]"}], " ", 
        RowBox[{"Sin", "[", "\[Theta]", "]"}]}], "+", 
       RowBox[{
        RowBox[{"Sin", "[", "\[Phi]", "]"}], " ", 
        RowBox[{"Sin", "[", "\[Psi]", "]"}]}]}]},
     {
      RowBox[{
       RowBox[{"Cos", "[", "\[Theta]", "]"}], " ", 
       RowBox[{"Sin", "[", "\[Psi]", "]"}]}], 
      RowBox[{
       RowBox[{
        RowBox[{"Cos", "[", "\[Phi]", "]"}], " ", 
        RowBox[{"Cos", "[", "\[Psi]", "]"}]}], "+", 
       RowBox[{
        RowBox[{"Sin", "[", "\[Theta]", "]"}], " ", 
        RowBox[{"Sin", "[", "\[Phi]", "]"}], " ", 
        RowBox[{"Sin", "[", "\[Psi]", "]"}]}]}], 
      RowBox[{
       RowBox[{
        RowBox[{"-", 
         RowBox[{"Cos", "[", "\[Psi]", "]"}]}], " ", 
        RowBox[{"Sin", "[", "\[Phi]", "]"}]}], "+", 
       RowBox[{
        RowBox[{"Cos", "[", "\[Phi]", "]"}], " ", 
        RowBox[{"Sin", "[", "\[Theta]", "]"}], " ", 
        RowBox[{"Sin", "[", "\[Psi]", "]"}]}]}]},
     {
      RowBox[{"-", 
       RowBox[{"Sin", "[", "\[Theta]", "]"}]}], 
      RowBox[{
       RowBox[{"Cos", "[", "\[Theta]", "]"}], " ", 
       RowBox[{"Sin", "[", "\[Phi]", "]"}]}], 
      RowBox[{
       RowBox[{"Cos", "[", "\[Theta]", "]"}], " ", 
       RowBox[{"Cos", "[", "\[Phi]", "]"}]}]}
    },
    GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[BoxForm`e$]]]], "Output",
 CellChangeTimes->{
  3.8314995644498897`*^9, 3.831500085844409*^9, 3.831648400660389*^9, 
   3.8316485288762045`*^9, {3.831731733292817*^9, 3.8317317406357346`*^9}, {
   3.8318511732493806`*^9, 3.8318512335425773`*^9}, 3.8318512801972475`*^9, 
   3.8318513126204743`*^9, 3.8318519845879245`*^9, {3.8319023245881557`*^9, 
   3.831902345802678*^9}, {3.8320016841550035`*^9, 3.832001700308703*^9}, {
   3.832014033352688*^9, 3.832014052930957*^9}, 3.832073358687859*^9, 
   3.8320742100927534`*^9, 3.8320937612417216`*^9, 3.8321125442263823`*^9, 
   3.8321165050049887`*^9, 3.8321190702798033`*^9},
 CellLabel->
  "Out[39]//MatrixForm=",ExpressionUUID->"c8e72274-7333-4612-9d12-\
13b5fe711c63"]
}, Open  ]],

Cell[TextData[StyleBox["Newton\[CloseCurlyQuote]s equation in Newtonian \
Frame.",
 FontColor->RGBColor[0.6, 0.4, 0.2]]], "Text",
 CellChangeTimes->{{3.831498043650139*^9, 3.83149808243443*^9}, 
   3.831498138635461*^9, {3.831498196496827*^9, 3.8314982045845985`*^9}, {
   3.831498273345645*^9, 3.8314982807626*^9}, {3.8320351843048334`*^9, 
   3.832035202500778*^9}},ExpressionUUID->"80ab8eb0-bcf0-49ce-ada7-\
60d6fec696d7"],

Cell["Fnet = m a in Newtonian Frame.", "Text",
 CellChangeTimes->{{3.8317299835455227`*^9, 3.8317300098901844`*^9}, {
  3.8320171522492123`*^9, 
  3.8320171696212482`*^9}},ExpressionUUID->"42d4a0dc-bb29-4ada-8158-\
9086ad33cd6c"],

Cell[BoxData[
 RowBox[{
  RowBox[{"R", "=", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"R11", ",", "R12", ",", "R13"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"R21", ",", "R22", ",", "R23"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"R31", ",", "R32", ",", "R33"}], "}"}]}], "}"}]}], 
  ";"}]], "Input",
 CellChangeTimes->{{3.832014773766515*^9, 3.8320148640911236`*^9}, {
  3.832034254992617*^9, 3.832034258362362*^9}},
 CellLabel->"In[40]:=",ExpressionUUID->"052e8242-fb57-4a08-872d-14220409f5ac"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"eqF", "=", 
  RowBox[{
   RowBox[{"MatrixForm", "[", 
    RowBox[{"m", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"{", 
        SubscriptBox["acc", "x"], "}"}], ",", 
       RowBox[{"{", 
        SubscriptBox["acc", "y"], "}"}], ",", 
       RowBox[{"{", 
        SubscriptBox["acc", "z"], "}"}]}], "}"}]}], "]"}], "\[Equal]", " ", 
   RowBox[{"MatrixForm", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       RowBox[{"{", "0", "}"}], ",", 
       RowBox[{"{", "0", "}"}], ",", 
       RowBox[{"{", "g", "}"}]}], "}"}], "+", 
     RowBox[{"R", ".", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"{", "0", "}"}], ",", 
        RowBox[{"{", "0", "}"}], ",", 
        RowBox[{"{", 
         RowBox[{"-", 
          SubscriptBox["F", "total"]}], "}"}]}], "}"}]}]}], 
    "]"}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"(*", " ", 
   RowBox[{
    RowBox[{"3", "rd", " ", "axid", " ", "of", " ", "N"}], "-", "E", "-", 
    RowBox[{
    "D", " ", "and", " ", "gravity", " ", "are", " ", "both", " ", "pointing",
      " ", "downwards", " ", "and", " ", 
     RowBox[{"hence", " ", "'"}], 
     RowBox[{"mg", "'"}], " ", "is", " ", "positive"}]}], "*)"}]}]}], "Input",
 CellChangeTimes->{{3.8317300754458723`*^9, 3.831730141743095*^9}, {
   3.831730178828339*^9, 3.831730308513946*^9}, 3.831730729525647*^9, {
   3.831730866443616*^9, 3.8317309185081387`*^9}, {3.83173095059069*^9, 
   3.8317310478112645`*^9}, 3.8317316881711473`*^9, {3.831731757331343*^9, 
   3.831731840194953*^9}, {3.8317319746789775`*^9, 3.8317319755966153`*^9}, {
   3.8320142489377403`*^9, 3.8320143105092754`*^9}, {3.8320143481124144`*^9, 
   3.8320143673158674`*^9}, {3.832014402782172*^9, 3.832014518443696*^9}, {
   3.832014683301919*^9, 3.8320147672098417`*^9}, {3.832014873480409*^9, 
   3.832014874211075*^9}, {3.8320150384014015`*^9, 3.832015044799398*^9}, {
   3.832015092001628*^9, 3.832015103687326*^9}, {3.8320151914417496`*^9, 
   3.8320153317312536`*^9}},
 CellLabel->"In[41]:=",ExpressionUUID->"ce416d62-50a3-4c3c-ba77-4f7077f973a1"],

Cell[BoxData[
 RowBox[{
  TagBox[
   RowBox[{"(", "\[NoBreak]", GridBox[{
      {
       RowBox[{"m", " ", 
        SubscriptBox["acc", "x"]}]},
      {
       RowBox[{"m", " ", 
        SubscriptBox["acc", "y"]}]},
      {
       RowBox[{"m", " ", 
        SubscriptBox["acc", "z"]}]}
     },
     GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
     GridBoxSpacings->{"Columns" -> {
         Offset[0.27999999999999997`], {
          Offset[0.7]}, 
         Offset[0.27999999999999997`]}, "Rows" -> {
         Offset[0.2], {
          Offset[0.4]}, 
         Offset[0.2]}}], "\[NoBreak]", ")"}],
   Function[BoxForm`e$, 
    MatrixForm[BoxForm`e$]]], "\[Equal]", 
  TagBox[
   RowBox[{"(", "\[NoBreak]", GridBox[{
      {
       RowBox[{
        RowBox[{"-", "R13"}], " ", 
        SubscriptBox["F", "total"]}]},
      {
       RowBox[{
        RowBox[{"-", "R23"}], " ", 
        SubscriptBox["F", "total"]}]},
      {
       RowBox[{"g", "-", 
        RowBox[{"R33", " ", 
         SubscriptBox["F", "total"]}]}]}
     },
     GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
     GridBoxSpacings->{"Columns" -> {
         Offset[0.27999999999999997`], {
          Offset[0.7]}, 
         Offset[0.27999999999999997`]}, "Rows" -> {
         Offset[0.2], {
          Offset[0.4]}, 
         Offset[0.2]}}], "\[NoBreak]", ")"}],
   Function[BoxForm`e$, 
    MatrixForm[BoxForm`e$]]]}]], "Output",
 CellChangeTimes->{3.8320152835748544`*^9, 3.8320153330592937`*^9, 
  3.8320342652534833`*^9, 3.8320733587437477`*^9, 3.8320742101426296`*^9, 
  3.832093761280837*^9, 3.8321125442521734`*^9, 3.832116505070609*^9, 
  3.8321190703187*^9},
 CellLabel->"Out[41]=",ExpressionUUID->"77f0ff0c-e84a-444d-8956-3573ce74e426"]
}, Open  ]],

Cell[TextData[StyleBox["Euler equations in Body Frame.",
 FontColor->RGBColor[0.6, 0.4, 0.2]]], "Text",
 CellChangeTimes->{{3.831498043650139*^9, 3.83149808243443*^9}, 
   3.831498138635461*^9, {3.831498196496827*^9, 3.8314982045845985`*^9}, {
   3.831498273345645*^9, 3.8314982807626*^9}, {3.8320352201448183`*^9, 
   3.832035229528802*^9}},ExpressionUUID->"b6da3ea2-b7bb-48c0-b5fb-\
81fcef326cb6"],

Cell[TextData[{
 "In Newtonian frame, ",
 Cell[BoxData[
  FormBox["\[Tau]net", TraditionalForm]],ExpressionUUID->
  "6f2a7171-2847-4617-afea-113e19e2b71d"],
 " =d/dt[",
 Cell[BoxData[
  FormBox[
   RowBox[{
    RowBox[{"I\[Omega]", "]"}], " "}], TraditionalForm]],ExpressionUUID->
  "8f184d8e-a7b6-4c68-9e12-7d833d0882bc"],
 ". However, Inertia Tensor (I) is highly undesirable to measure in Newtonian \
frame. In body frame, I remains constant. So, we write all the moments in \
body frame. Doing so, we need to account for \[OpenCurlyDoubleQuote]angular \
velocity\[CloseCurlyDoubleQuote] of rotating frame.\n",
 Cell[BoxData[
  FormBox[
   RowBox[{
    SubscriptBox["\[Tau]", "net"], "=", " ", 
    RowBox[{
     RowBox[{"I\[Omega]", "'"}], " ", "+", " ", 
     RowBox[{"\[Omega]", " ", "x", " ", 
      RowBox[{"(", "I\[Omega]", ")"}]}]}]}], TraditionalForm]],ExpressionUUID->
  "3346ce08-8643-4175-8177-fa0c1b9c4fb6"]
}], "Text",
 CellChangeTimes->{{3.8320154487668333`*^9, 3.8320154577935324`*^9}, {
  3.8320155059501333`*^9, 3.8320157167099934`*^9}, {3.832015750028146*^9, 
  3.8320157660549946`*^9}, {3.8320158206208305`*^9, 3.8320158245779343`*^9}, {
  3.832016685747446*^9, 3.8320167539316845`*^9}, {3.8320345290760984`*^9, 
  3.8320345400961175`*^9}, {3.83211919806081*^9, 3.8321192104014783`*^9}, {
  3.832119303471141*^9, 
  3.832119314693084*^9}},ExpressionUUID->"4acfb44d-2807-49e9-a1bf-\
6a4c11ed915e"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"eqM", "=", 
  RowBox[{
   RowBox[{"MatrixForm", "[", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{
        SubscriptBox["Ib", "11"], " ", 
        SubscriptBox["p", "dot"]}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{
        SubscriptBox["Ib", "22"], " ", 
        SubscriptBox["q", "dot"]}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{
        SubscriptBox["Ib", "33"], " ", 
        SubscriptBox["r", "dot"]}], "}"}]}], "}"}], "]"}], "\[Equal]", " ", 
   RowBox[{"MatrixForm", "[", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{
        SubscriptBox["\[Tau]", "x"], "-", 
        RowBox[{
         RowBox[{"(", 
          RowBox[{
           SubscriptBox["Ib", "33"], "-", 
           SubscriptBox["Ib", "22"]}], ")"}], "q", " ", "r"}]}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{
        SubscriptBox["\[Tau]", "y"], "-", 
        RowBox[{
         RowBox[{"(", 
          RowBox[{
           SubscriptBox["Ib", "11"], "-", 
           SubscriptBox["Ib", "33"]}], ")"}], "p", " ", "r"}]}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{
        SubscriptBox["\[Tau]", "z"], "-", 
        RowBox[{
         RowBox[{"(", 
          RowBox[{
           SubscriptBox["Ib", "22"], "-", 
           SubscriptBox["Ib", "11"]}], ")"}], "p", " ", "q"}]}], "}"}]}], 
     "}"}], "]"}]}]}]], "Input",
 CellChangeTimes->{{3.8320154354791822`*^9, 3.8320154378831253`*^9}, 
   3.832015731959611*^9, {3.8320159460611796`*^9, 3.832015988211917*^9}, {
   3.8320167812915344`*^9, 3.8320168551366606`*^9}, {3.83201766142019*^9, 
   3.8320176746157265`*^9}, {3.8320236698533015`*^9, 3.832023865973305*^9}, {
   3.8320245019113617`*^9, 3.8320245645423174`*^9}},
 CellLabel->"In[42]:=",ExpressionUUID->"29239aca-af47-4576-ba75-1180dfd786cc"],

Cell[BoxData[
 RowBox[{
  TagBox[
   RowBox[{"(", "\[NoBreak]", GridBox[{
      {
       RowBox[{
        SubscriptBox["Ib", "11"], " ", 
        SubscriptBox["p", "dot"]}]},
      {
       RowBox[{
        SubscriptBox["Ib", "22"], " ", 
        SubscriptBox["q", "dot"]}]},
      {
       RowBox[{
        SubscriptBox["Ib", "33"], " ", 
        SubscriptBox["r", "dot"]}]}
     },
     GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
     GridBoxSpacings->{"Columns" -> {
         Offset[0.27999999999999997`], {
          Offset[0.7]}, 
         Offset[0.27999999999999997`]}, "Rows" -> {
         Offset[0.2], {
          Offset[0.4]}, 
         Offset[0.2]}}], "\[NoBreak]", ")"}],
   Function[BoxForm`e$, 
    MatrixForm[BoxForm`e$]]], "\[Equal]", 
  TagBox[
   RowBox[{"(", "\[NoBreak]", GridBox[{
      {
       RowBox[{
        RowBox[{
         RowBox[{"-", "q"}], " ", "r", " ", 
         RowBox[{"(", 
          RowBox[{
           RowBox[{"-", 
            SubscriptBox["Ib", "22"]}], "+", 
           SubscriptBox["Ib", "33"]}], ")"}]}], "+", 
        SubscriptBox["\[Tau]", "x"]}]},
      {
       RowBox[{
        RowBox[{
         RowBox[{"-", "p"}], " ", "r", " ", 
         RowBox[{"(", 
          RowBox[{
           SubscriptBox["Ib", "11"], "-", 
           SubscriptBox["Ib", "33"]}], ")"}]}], "+", 
        SubscriptBox["\[Tau]", "y"]}]},
      {
       RowBox[{
        RowBox[{
         RowBox[{"-", "p"}], " ", "q", " ", 
         RowBox[{"(", 
          RowBox[{
           RowBox[{"-", 
            SubscriptBox["Ib", "11"]}], "+", 
           SubscriptBox["Ib", "22"]}], ")"}]}], "+", 
        SubscriptBox["\[Tau]", "z"]}]}
     },
     GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
     GridBoxSpacings->{"Columns" -> {
         Offset[0.27999999999999997`], {
          Offset[0.7]}, 
         Offset[0.27999999999999997`]}, "Rows" -> {
         Offset[0.2], {
          Offset[0.4]}, 
         Offset[0.2]}}], "\[NoBreak]", ")"}],
   Function[BoxForm`e$, 
    MatrixForm[BoxForm`e$]]]}]], "Output",
 CellChangeTimes->{{3.832023805718151*^9, 3.832023824443947*^9}, 
   3.8320238676034555`*^9, 3.832024567654085*^9, 3.8320733587507286`*^9, 
   3.832074210194481*^9, 3.832093761311755*^9, 3.8321125442704353`*^9, 
   3.8321165050947323`*^9, 3.8321190703486195`*^9},
 CellLabel->"Out[42]=",ExpressionUUID->"5abc32d0-8b6f-48b0-b732-521d72bd2e43"]
}, Open  ]],

Cell[TextData[StyleBox["Body Rates to Euler Rates",
 FontColor->RGBColor[0.6, 0.4, 0.2]]], "Text",
 CellChangeTimes->{{3.831498043650139*^9, 3.83149808243443*^9}, 
   3.831498138635461*^9, {3.831498196496827*^9, 3.8314982045845985`*^9}, {
   3.831498273345645*^9, 3.8314982807626*^9}, {3.8320352762886534`*^9, 
   3.8320352829996214`*^9}},ExpressionUUID->"c6ea51b7-8fa3-42f3-b919-\
0e171552a170"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"eq\[Omega]", "=", 
  RowBox[{
   RowBox[{"MatrixForm", "[", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"{", "p", "}"}], ",", 
      RowBox[{"{", "q", "}"}], ",", 
      RowBox[{"{", "r", "}"}]}], "}"}], "]"}], "==", 
   RowBox[{"MatrixForm", "[", 
    RowBox[{
     RowBox[{
      RowBox[{"rot1", "[", "\[Phi]", "]"}], ".", 
      RowBox[{"rot2", "[", "\[Theta]", "]"}], ".", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"{", "0", "}"}], ",", 
        RowBox[{"{", "0", "}"}], ",", 
        RowBox[{"{", 
         SubscriptBox["\[Psi]", "dot"], "}"}]}], "}"}]}], "+", 
     RowBox[{
      RowBox[{"rot1", "[", "\[Phi]", "]"}], ".", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"{", "0", "}"}], ",", 
        RowBox[{"{", 
         SubscriptBox["\[Theta]", "dot"], "}"}], ",", 
        RowBox[{"{", "0", "}"}]}], "}"}]}], "+", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"{", 
        SubscriptBox["\[Phi]", "dot"], "}"}], ",", 
       RowBox[{"{", "0", "}"}], ",", 
       RowBox[{"{", "0", "}"}]}], "}"}]}], "]"}]}]}]], "Input",
 CellChangeTimes->{{3.832035862692148*^9, 3.8320359041593914`*^9}, {
  3.832035965979188*^9, 3.8320360789676285`*^9}, {3.8320733350065174`*^9, 
  3.8320733367114625`*^9}, {3.832073367203442*^9, 3.832073435653464*^9}, {
  3.8320734952953215`*^9, 3.832073520561421*^9}},
 CellLabel->"In[43]:=",ExpressionUUID->"18a9ae5e-8e8a-4594-b4d8-e2280fb083db"],

Cell[BoxData[
 RowBox[{
  TagBox[
   RowBox[{"(", "\[NoBreak]", GridBox[{
      {"p"},
      {"q"},
      {"r"}
     },
     GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
     GridBoxSpacings->{"Columns" -> {
         Offset[0.27999999999999997`], {
          Offset[0.7]}, 
         Offset[0.27999999999999997`]}, "Rows" -> {
         Offset[0.2], {
          Offset[0.4]}, 
         Offset[0.2]}}], "\[NoBreak]", ")"}],
   Function[BoxForm`e$, 
    MatrixForm[BoxForm`e$]]], "\[Equal]", 
  TagBox[
   RowBox[{"(", "\[NoBreak]", GridBox[{
      {
       RowBox[{
        SubscriptBox["\[Phi]", "dot"], "+", 
        RowBox[{
         RowBox[{"Sin", "[", "\[Theta]", "]"}], " ", 
         SubscriptBox["\[Psi]", "dot"]}]}]},
      {
       RowBox[{
        RowBox[{
         RowBox[{"Cos", "[", "\[Phi]", "]"}], " ", 
         SubscriptBox["\[Theta]", "dot"]}], "-", 
        RowBox[{
         RowBox[{"Cos", "[", "\[Theta]", "]"}], " ", 
         RowBox[{"Sin", "[", "\[Phi]", "]"}], " ", 
         SubscriptBox["\[Psi]", "dot"]}]}]},
      {
       RowBox[{
        RowBox[{
         RowBox[{"Sin", "[", "\[Phi]", "]"}], " ", 
         SubscriptBox["\[Theta]", "dot"]}], "+", 
        RowBox[{
         RowBox[{"Cos", "[", "\[Theta]", "]"}], " ", 
         RowBox[{"Cos", "[", "\[Phi]", "]"}], " ", 
         SubscriptBox["\[Psi]", "dot"]}]}]}
     },
     GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
     GridBoxSpacings->{"Columns" -> {
         Offset[0.27999999999999997`], {
          Offset[0.7]}, 
         Offset[0.27999999999999997`]}, "Rows" -> {
         Offset[0.2], {
          Offset[0.4]}, 
         Offset[0.2]}}], "\[NoBreak]", ")"}],
   Function[BoxForm`e$, 
    MatrixForm[BoxForm`e$]]]}]], "Output",
 CellChangeTimes->{{3.8320360685181646`*^9, 3.8320360795920343`*^9}, {
   3.832073337535758*^9, 3.8320733861515646`*^9}, {3.8320734221014643`*^9, 
   3.832073436584313*^9}, 3.832073521647473*^9, 3.832074210203457*^9, 
   3.83209376134835*^9, 3.8321125442779484`*^9, 3.832116505118692*^9, 
   3.83211907035859*^9},
 CellLabel->"Out[43]=",ExpressionUUID->"565aaa62-e7ce-4b1f-9795-f660ff8d2ecb"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"eqEulerdot", " ", "=", " ", 
  RowBox[{
   RowBox[{
    RowBox[{"MatrixForm", "[", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"{", 
        SubscriptBox["\[Phi]", "dot"], "}"}], ",", 
       RowBox[{"{", 
        SubscriptBox["\[Theta]", "dot"], "}"}], ",", 
       RowBox[{"{", 
        SubscriptBox["\[Psi]", "dot"], "}"}]}], "}"}], "]"}], "\[Equal]", 
    RowBox[{"MatrixForm", "[", 
     RowBox[{
      RowBox[{"Inverse", "[", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{"1", ",", " ", "0", ",", 
           RowBox[{"Sin", "[", "\[Theta]", "]"}]}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{"0", ",", " ", 
           RowBox[{"Cos", "[", "\[Phi]", "]"}], ",", 
           RowBox[{
            RowBox[{"-", 
             RowBox[{"Cos", "[", "\[Theta]", "]"}]}], 
            RowBox[{"Sin", "[", "\[Phi]", "]"}]}]}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{"0", ",", 
           RowBox[{"Sin", "[", "\[Phi]", "]"}], ",", 
           RowBox[{
            RowBox[{"Cos", "[", "\[Theta]", "]"}], 
            RowBox[{"Cos", "[", "\[Phi]", "]"}]}]}], "}"}]}], "}"}], "]"}], 
      ".", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"{", "p", "}"}], ",", 
        RowBox[{"{", "q", "}"}], ",", 
        RowBox[{"{", "r", "}"}]}], "}"}]}], "]"}]}], "//", 
   "Simplify"}]}]], "Input",
 CellChangeTimes->{{3.8320736830885315`*^9, 3.8320738633932104`*^9}, {
  3.832074114689822*^9, 3.8320741428279743`*^9}, {3.8320742307055426`*^9, 
  3.8320743724813414`*^9}},
 CellLabel->"In[44]:=",ExpressionUUID->"065a3114-cf25-47d1-9ced-df99cf6903e5"],

Cell[BoxData[
 RowBox[{
  TagBox[
   RowBox[{"(", "\[NoBreak]", GridBox[{
      {
       SubscriptBox["\[Phi]", "dot"]},
      {
       SubscriptBox["\[Theta]", "dot"]},
      {
       SubscriptBox["\[Psi]", "dot"]}
     },
     GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
     GridBoxSpacings->{"Columns" -> {
         Offset[0.27999999999999997`], {
          Offset[0.7]}, 
         Offset[0.27999999999999997`]}, "Rows" -> {
         Offset[0.2], {
          Offset[0.4]}, 
         Offset[0.2]}}], "\[NoBreak]", ")"}],
   Function[BoxForm`e$, 
    MatrixForm[BoxForm`e$]]], "\[Equal]", 
  TagBox[
   RowBox[{"(", "\[NoBreak]", GridBox[{
      {
       RowBox[{"p", "-", 
        RowBox[{"r", " ", 
         RowBox[{"Cos", "[", "\[Phi]", "]"}], " ", 
         RowBox[{"Tan", "[", "\[Theta]", "]"}]}], "+", 
        RowBox[{"q", " ", 
         RowBox[{"Sin", "[", "\[Phi]", "]"}], " ", 
         RowBox[{"Tan", "[", "\[Theta]", "]"}]}]}]},
      {
       RowBox[{
        RowBox[{"q", " ", 
         RowBox[{"Cos", "[", "\[Phi]", "]"}]}], "+", 
        RowBox[{"r", " ", 
         RowBox[{"Sin", "[", "\[Phi]", "]"}]}]}]},
      {
       RowBox[{
        RowBox[{"Sec", "[", "\[Theta]", "]"}], " ", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{"r", " ", 
           RowBox[{"Cos", "[", "\[Phi]", "]"}]}], "-", 
          RowBox[{"q", " ", 
           RowBox[{"Sin", "[", "\[Phi]", "]"}]}]}], ")"}]}]}
     },
     GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
     GridBoxSpacings->{"Columns" -> {
         Offset[0.27999999999999997`], {
          Offset[0.7]}, 
         Offset[0.27999999999999997`]}, "Rows" -> {
         Offset[0.2], {
          Offset[0.4]}, 
         Offset[0.2]}}], "\[NoBreak]", ")"}],
   Function[BoxForm`e$, 
    MatrixForm[BoxForm`e$]]]}]], "Output",
 CellChangeTimes->{{3.8320743396397085`*^9, 3.8320743739470835`*^9}, 
   3.832093761421711*^9, 3.8321125443368297`*^9, 3.8321165051785545`*^9, 
   3.8321190704304*^9},
 CellLabel->"Out[44]=",ExpressionUUID->"80ad269b-8e5d-406a-b430-eb8fb51259dd"]
}, Open  ]]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["PLANT Controller", "Title",
 CellChangeTimes->{{3.831648358277148*^9, 3.8316483618196735`*^9}, {
  3.8321032185252695`*^9, 
  3.8321032539453382`*^9}},ExpressionUUID->"f50abb0b-ca5f-47f4-b536-\
a7f1b925e30b"],

Cell[CellGroupData[{

Cell["Roll Pitch Controller ", "Subsection",
 CellChangeTimes->{{3.832103494401078*^9, 3.832103499907359*^9}, {
  3.832117264846242*^9, 3.83211727613725*^9}, {3.832118216101661*^9, 
  3.8321182181161118`*^9}},ExpressionUUID->"98b6bc1b-0b1a-4ed4-80a3-\
f2bf9d7b3585"],

Cell[TextData[{
 "Inputs: pqrCmd -> desired , pqr-> measured.\nOutputs: momentCmd -> ",
 Cell[BoxData[
  FormBox[
   SubscriptBox["\[Tau]", "x"], TraditionalForm]],ExpressionUUID->
  "9c49ba72-1f70-4f5f-999d-9703118fb9dc"],
 Cell[BoxData[
  FormBox[
   RowBox[{",", 
    SubscriptBox["\[Tau]", "y"]}], TraditionalForm]],
  FormatType->TraditionalForm,ExpressionUUID->
  "07978ab1-3367-4087-ad2d-10f34110d9d7"],
 ",",
 Cell[BoxData[
  FormBox[
   SubscriptBox["\[Tau]", "z"], TraditionalForm]],ExpressionUUID->
  "56281062-49b3-481c-8f41-c5596630b808"]
}], "Text",
 CellChangeTimes->{{3.832118564921056*^9, 
  3.8321187287423325`*^9}},ExpressionUUID->"cbb34c31-945a-473b-a844-\
28787cd9ddb2"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"bodyRateErr", "=", 
   RowBox[{"pqrCmd", " ", "-", " ", "pqr"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"omegadotCmd", " ", "=", " ", 
   RowBox[{"bodyRateErr", " ", "*", " ", "kpPQR"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"momentCmd", " ", "=", " ", 
   RowBox[{"Ibb", " ", "*", " ", "omegadotCmd"}]}], ";"}]}], "Input",
 CellChangeTimes->{{3.832118459258562*^9, 3.8321185547148266`*^9}, {
  3.832118595461463*^9, 3.83211861205284*^9}},
 CellLabel->"In[45]:=",ExpressionUUID->"5657e71a-4437-4708-8218-306cb0cfd054"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Roll Pitch Controller ", "Subsection",
 CellChangeTimes->{{3.832103494401078*^9, 3.832103499907359*^9}, {
  3.832117264846242*^9, 3.83211727613725*^9}, {3.832118216101661*^9, 
  3.8321182181161118`*^9}},ExpressionUUID->"6311f54d-497e-4877-b03e-\
cddee0567716"],

Cell["\<\
Inputs: accelCmd in global XY coordinates, Rotation or DCM matrix, desired \
collect thrust command (cT) which is in Newtons.\
\>", "Text",
 CellChangeTimes->{{3.8321182418320246`*^9, 
  3.8321183782062693`*^9}},ExpressionUUID->"5ca1d70f-116b-49c6-a292-\
8f2561b9fcbe"],

Cell["\<\
Outputs: pCmd, qCmd.
rCmd is left to be zero.\
\>", "Text",
 CellChangeTimes->{{3.832117281740301*^9, 3.8321173157893057`*^9}, {
  3.832117457527089*^9, 3.832117465577138*^9}, {3.8321180975764685`*^9, 
  3.8321181057849874`*^9}},ExpressionUUID->"559b1f7e-2b25-4e89-87d6-\
7ec99279fe77"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Rotmat", "=", 
  RowBox[{"Rot", "[", 
   RowBox[{
    RowBox[{"\[Phi]", "[", "t", "]"}], ",", 
    RowBox[{"\[Theta]", "[", "t", "]"}], ",", 
    RowBox[{"\[Psi]", "[", "t", "]"}]}], "]"}]}]], "Input",
 CellChangeTimes->{{3.832112487425914*^9, 3.832112532392913*^9}, {
  3.832112742512591*^9, 3.832112742717811*^9}, {3.8321128179345083`*^9, 
  3.832112823468536*^9}, {3.8321164650087547`*^9, 3.8321164712300205`*^9}, {
  3.8321165188689137`*^9, 3.8321165241235905`*^9}},
 CellLabel->"In[48]:=",ExpressionUUID->"f32d60d0-f37d-4b82-bef0-3c5846d8f0e0"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
     RowBox[{
      RowBox[{"Cos", "[", 
       RowBox[{"\[Theta]", "[", "t", "]"}], "]"}], " ", 
      RowBox[{"Cos", "[", 
       RowBox[{"\[Psi]", "[", "t", "]"}], "]"}]}], ",", 
     RowBox[{
      RowBox[{
       RowBox[{"Cos", "[", 
        RowBox[{"\[Psi]", "[", "t", "]"}], "]"}], " ", 
       RowBox[{"Sin", "[", 
        RowBox[{"\[Theta]", "[", "t", "]"}], "]"}], " ", 
       RowBox[{"Sin", "[", 
        RowBox[{"\[Phi]", "[", "t", "]"}], "]"}]}], "-", 
      RowBox[{
       RowBox[{"Cos", "[", 
        RowBox[{"\[Phi]", "[", "t", "]"}], "]"}], " ", 
       RowBox[{"Sin", "[", 
        RowBox[{"\[Psi]", "[", "t", "]"}], "]"}]}]}], ",", 
     RowBox[{
      RowBox[{
       RowBox[{"Cos", "[", 
        RowBox[{"\[Phi]", "[", "t", "]"}], "]"}], " ", 
       RowBox[{"Cos", "[", 
        RowBox[{"\[Psi]", "[", "t", "]"}], "]"}], " ", 
       RowBox[{"Sin", "[", 
        RowBox[{"\[Theta]", "[", "t", "]"}], "]"}]}], "+", 
      RowBox[{
       RowBox[{"Sin", "[", 
        RowBox[{"\[Phi]", "[", "t", "]"}], "]"}], " ", 
       RowBox[{"Sin", "[", 
        RowBox[{"\[Psi]", "[", "t", "]"}], "]"}]}]}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{
      RowBox[{"Cos", "[", 
       RowBox[{"\[Theta]", "[", "t", "]"}], "]"}], " ", 
      RowBox[{"Sin", "[", 
       RowBox[{"\[Psi]", "[", "t", "]"}], "]"}]}], ",", 
     RowBox[{
      RowBox[{
       RowBox[{"Cos", "[", 
        RowBox[{"\[Phi]", "[", "t", "]"}], "]"}], " ", 
       RowBox[{"Cos", "[", 
        RowBox[{"\[Psi]", "[", "t", "]"}], "]"}]}], "+", 
      RowBox[{
       RowBox[{"Sin", "[", 
        RowBox[{"\[Theta]", "[", "t", "]"}], "]"}], " ", 
       RowBox[{"Sin", "[", 
        RowBox[{"\[Phi]", "[", "t", "]"}], "]"}], " ", 
       RowBox[{"Sin", "[", 
        RowBox[{"\[Psi]", "[", "t", "]"}], "]"}]}]}], ",", 
     RowBox[{
      RowBox[{
       RowBox[{"-", 
        RowBox[{"Cos", "[", 
         RowBox[{"\[Psi]", "[", "t", "]"}], "]"}]}], " ", 
       RowBox[{"Sin", "[", 
        RowBox[{"\[Phi]", "[", "t", "]"}], "]"}]}], "+", 
      RowBox[{
       RowBox[{"Cos", "[", 
        RowBox[{"\[Phi]", "[", "t", "]"}], "]"}], " ", 
       RowBox[{"Sin", "[", 
        RowBox[{"\[Theta]", "[", "t", "]"}], "]"}], " ", 
       RowBox[{"Sin", "[", 
        RowBox[{"\[Psi]", "[", "t", "]"}], "]"}]}]}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"-", 
      RowBox[{"Sin", "[", 
       RowBox[{"\[Theta]", "[", "t", "]"}], "]"}]}], ",", 
     RowBox[{
      RowBox[{"Cos", "[", 
       RowBox[{"\[Theta]", "[", "t", "]"}], "]"}], " ", 
      RowBox[{"Sin", "[", 
       RowBox[{"\[Phi]", "[", "t", "]"}], "]"}]}], ",", 
     RowBox[{
      RowBox[{"Cos", "[", 
       RowBox[{"\[Theta]", "[", "t", "]"}], "]"}], " ", 
      RowBox[{"Cos", "[", 
       RowBox[{"\[Phi]", "[", "t", "]"}], "]"}]}]}], "}"}]}], "}"}]], "Output",
 CellChangeTimes->{
  3.832112505387451*^9, 3.832112544390532*^9, 3.832112743820074*^9, 
   3.8321128243879786`*^9, 3.832116282717147*^9, 3.8321164314004326`*^9, {
   3.832116472065942*^9, 3.8321165291082907`*^9}, 3.8321179833144417`*^9, 
   3.8321190704912376`*^9},
 CellLabel->"Out[48]=",ExpressionUUID->"af2470d2-b0f3-4059-ad6b-9e1f2333e279"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"MatrixForm", "[", "Rotmat", "]"}]], "Input",
 CellChangeTimes->{{3.8321128420087247`*^9, 3.832112849969834*^9}},
 CellLabel->"In[49]:=",ExpressionUUID->"aa72f788-4a61-4f94-b2bb-d43218af225e"],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {
      RowBox[{
       RowBox[{"Cos", "[", 
        RowBox[{"\[Theta]", "[", "t", "]"}], "]"}], " ", 
       RowBox[{"Cos", "[", 
        RowBox[{"\[Psi]", "[", "t", "]"}], "]"}]}], 
      RowBox[{
       RowBox[{
        RowBox[{"Cos", "[", 
         RowBox[{"\[Psi]", "[", "t", "]"}], "]"}], " ", 
        RowBox[{"Sin", "[", 
         RowBox[{"\[Theta]", "[", "t", "]"}], "]"}], " ", 
        RowBox[{"Sin", "[", 
         RowBox[{"\[Phi]", "[", "t", "]"}], "]"}]}], "-", 
       RowBox[{
        RowBox[{"Cos", "[", 
         RowBox[{"\[Phi]", "[", "t", "]"}], "]"}], " ", 
        RowBox[{"Sin", "[", 
         RowBox[{"\[Psi]", "[", "t", "]"}], "]"}]}]}], 
      RowBox[{
       RowBox[{
        RowBox[{"Cos", "[", 
         RowBox[{"\[Phi]", "[", "t", "]"}], "]"}], " ", 
        RowBox[{"Cos", "[", 
         RowBox[{"\[Psi]", "[", "t", "]"}], "]"}], " ", 
        RowBox[{"Sin", "[", 
         RowBox[{"\[Theta]", "[", "t", "]"}], "]"}]}], "+", 
       RowBox[{
        RowBox[{"Sin", "[", 
         RowBox[{"\[Phi]", "[", "t", "]"}], "]"}], " ", 
        RowBox[{"Sin", "[", 
         RowBox[{"\[Psi]", "[", "t", "]"}], "]"}]}]}]},
     {
      RowBox[{
       RowBox[{"Cos", "[", 
        RowBox[{"\[Theta]", "[", "t", "]"}], "]"}], " ", 
       RowBox[{"Sin", "[", 
        RowBox[{"\[Psi]", "[", "t", "]"}], "]"}]}], 
      RowBox[{
       RowBox[{
        RowBox[{"Cos", "[", 
         RowBox[{"\[Phi]", "[", "t", "]"}], "]"}], " ", 
        RowBox[{"Cos", "[", 
         RowBox[{"\[Psi]", "[", "t", "]"}], "]"}]}], "+", 
       RowBox[{
        RowBox[{"Sin", "[", 
         RowBox[{"\[Theta]", "[", "t", "]"}], "]"}], " ", 
        RowBox[{"Sin", "[", 
         RowBox[{"\[Phi]", "[", "t", "]"}], "]"}], " ", 
        RowBox[{"Sin", "[", 
         RowBox[{"\[Psi]", "[", "t", "]"}], "]"}]}]}], 
      RowBox[{
       RowBox[{
        RowBox[{"-", 
         RowBox[{"Cos", "[", 
          RowBox[{"\[Psi]", "[", "t", "]"}], "]"}]}], " ", 
        RowBox[{"Sin", "[", 
         RowBox[{"\[Phi]", "[", "t", "]"}], "]"}]}], "+", 
       RowBox[{
        RowBox[{"Cos", "[", 
         RowBox[{"\[Phi]", "[", "t", "]"}], "]"}], " ", 
        RowBox[{"Sin", "[", 
         RowBox[{"\[Theta]", "[", "t", "]"}], "]"}], " ", 
        RowBox[{"Sin", "[", 
         RowBox[{"\[Psi]", "[", "t", "]"}], "]"}]}]}]},
     {
      RowBox[{"-", 
       RowBox[{"Sin", "[", 
        RowBox[{"\[Theta]", "[", "t", "]"}], "]"}]}], 
      RowBox[{
       RowBox[{"Cos", "[", 
        RowBox[{"\[Theta]", "[", "t", "]"}], "]"}], " ", 
       RowBox[{"Sin", "[", 
        RowBox[{"\[Phi]", "[", "t", "]"}], "]"}]}], 
      RowBox[{
       RowBox[{"Cos", "[", 
        RowBox[{"\[Theta]", "[", "t", "]"}], "]"}], " ", 
       RowBox[{"Cos", "[", 
        RowBox[{"\[Phi]", "[", "t", "]"}], "]"}]}]}
    },
    GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[BoxForm`e$]]]], "Output",
 CellChangeTimes->{
  3.8321128504342937`*^9, 3.832116282787038*^9, 3.832116431435823*^9, {
   3.832116492954156*^9, 3.8321165291671567`*^9}, 3.8321179833472033`*^9, 
   3.832119070499217*^9},
 CellLabel->
  "Out[49]//MatrixForm=",ExpressionUUID->"b2948f61-029f-49bd-890d-\
f7b8e03f4e2d"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"\[Omega]mat", "=", 
  RowBox[{
   RowBox[{
    RowBox[{"Transpose", "[", "Rotmat", "]"}], ".", 
    RowBox[{"Dt", "[", 
     RowBox[{"Rotmat", ",", "t"}], "]"}]}], "//", "Simplify"}]}]], "Input",
 CellChangeTimes->{{3.832112735176731*^9, 3.832112787751748*^9}, {
   3.8321128315560713`*^9, 3.832112834700754*^9}, 3.832112879279793*^9, 
   3.832112948351693*^9},
 CellLabel->"In[50]:=",ExpressionUUID->"c3392888-fa1b-4648-8ed3-157b07f46305"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{"0", ",", 
     RowBox[{
      RowBox[{
       RowBox[{"Sin", "[", 
        RowBox[{"\[Phi]", "[", "t", "]"}], "]"}], " ", 
       RowBox[{
        SuperscriptBox["\[Theta]", "\[Prime]",
         MultilineFunction->None], "[", "t", "]"}]}], "-", 
      RowBox[{
       RowBox[{"Cos", "[", 
        RowBox[{"\[Theta]", "[", "t", "]"}], "]"}], " ", 
       RowBox[{"Cos", "[", 
        RowBox[{"\[Phi]", "[", "t", "]"}], "]"}], " ", 
       RowBox[{
        SuperscriptBox["\[Psi]", "\[Prime]",
         MultilineFunction->None], "[", "t", "]"}]}]}], ",", 
     RowBox[{
      RowBox[{
       RowBox[{"Cos", "[", 
        RowBox[{"\[Phi]", "[", "t", "]"}], "]"}], " ", 
       RowBox[{
        SuperscriptBox["\[Theta]", "\[Prime]",
         MultilineFunction->None], "[", "t", "]"}]}], "+", 
      RowBox[{
       RowBox[{"Cos", "[", 
        RowBox[{"\[Theta]", "[", "t", "]"}], "]"}], " ", 
       RowBox[{"Sin", "[", 
        RowBox[{"\[Phi]", "[", "t", "]"}], "]"}], " ", 
       RowBox[{
        SuperscriptBox["\[Psi]", "\[Prime]",
         MultilineFunction->None], "[", "t", "]"}]}]}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{
      RowBox[{
       RowBox[{"-", 
        RowBox[{"Sin", "[", 
         RowBox[{"\[Phi]", "[", "t", "]"}], "]"}]}], " ", 
       RowBox[{
        SuperscriptBox["\[Theta]", "\[Prime]",
         MultilineFunction->None], "[", "t", "]"}]}], "+", 
      RowBox[{
       RowBox[{"Cos", "[", 
        RowBox[{"\[Theta]", "[", "t", "]"}], "]"}], " ", 
       RowBox[{"Cos", "[", 
        RowBox[{"\[Phi]", "[", "t", "]"}], "]"}], " ", 
       RowBox[{
        SuperscriptBox["\[Psi]", "\[Prime]",
         MultilineFunction->None], "[", "t", "]"}]}]}], ",", "0", ",", 
     RowBox[{
      RowBox[{"-", 
       RowBox[{
        SuperscriptBox["\[Phi]", "\[Prime]",
         MultilineFunction->None], "[", "t", "]"}]}], "+", 
      RowBox[{
       RowBox[{"Sin", "[", 
        RowBox[{"\[Theta]", "[", "t", "]"}], "]"}], " ", 
       RowBox[{
        SuperscriptBox["\[Psi]", "\[Prime]",
         MultilineFunction->None], "[", "t", "]"}]}]}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{
      RowBox[{
       RowBox[{"-", 
        RowBox[{"Cos", "[", 
         RowBox[{"\[Phi]", "[", "t", "]"}], "]"}]}], " ", 
       RowBox[{
        SuperscriptBox["\[Theta]", "\[Prime]",
         MultilineFunction->None], "[", "t", "]"}]}], "-", 
      RowBox[{
       RowBox[{"Cos", "[", 
        RowBox[{"\[Theta]", "[", "t", "]"}], "]"}], " ", 
       RowBox[{"Sin", "[", 
        RowBox[{"\[Phi]", "[", "t", "]"}], "]"}], " ", 
       RowBox[{
        SuperscriptBox["\[Psi]", "\[Prime]",
         MultilineFunction->None], "[", "t", "]"}]}]}], ",", 
     RowBox[{
      RowBox[{
       SuperscriptBox["\[Phi]", "\[Prime]",
        MultilineFunction->None], "[", "t", "]"}], "-", 
      RowBox[{
       RowBox[{"Sin", "[", 
        RowBox[{"\[Theta]", "[", "t", "]"}], "]"}], " ", 
       RowBox[{
        SuperscriptBox["\[Psi]", "\[Prime]",
         MultilineFunction->None], "[", "t", "]"}]}]}], ",", "0"}], "}"}]}], 
  "}"}]], "Output",
 CellChangeTimes->{{3.8321127720262733`*^9, 3.832112788762808*^9}, {
   3.832112828782024*^9, 3.832112835678007*^9}, 3.8321128797676215`*^9, 
   3.8321129493757915`*^9, 3.832116282814176*^9, 3.832116431460938*^9, {
   3.832116492979124*^9, 3.832116529215065*^9}, 3.8321179833713923`*^9, 
   3.8321190705550666`*^9},
 CellLabel->"Out[50]=",ExpressionUUID->"22a590aa-0410-4da6-8297-4055293fb774"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"MatrixForm", "[", "\[Omega]mat", "]"}]], "Input",
 CellChangeTimes->{{3.8321128571720467`*^9, 3.832112864585805*^9}},
 CellLabel->"In[51]:=",ExpressionUUID->"0b272e18-0a3a-42fb-9e30-f35a84a726d5"],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {"0", 
      RowBox[{
       RowBox[{
        RowBox[{"Sin", "[", 
         RowBox[{"\[Phi]", "[", "t", "]"}], "]"}], " ", 
        RowBox[{
         SuperscriptBox["\[Theta]", "\[Prime]",
          MultilineFunction->None], "[", "t", "]"}]}], "-", 
       RowBox[{
        RowBox[{"Cos", "[", 
         RowBox[{"\[Theta]", "[", "t", "]"}], "]"}], " ", 
        RowBox[{"Cos", "[", 
         RowBox[{"\[Phi]", "[", "t", "]"}], "]"}], " ", 
        RowBox[{
         SuperscriptBox["\[Psi]", "\[Prime]",
          MultilineFunction->None], "[", "t", "]"}]}]}], 
      RowBox[{
       RowBox[{
        RowBox[{"Cos", "[", 
         RowBox[{"\[Phi]", "[", "t", "]"}], "]"}], " ", 
        RowBox[{
         SuperscriptBox["\[Theta]", "\[Prime]",
          MultilineFunction->None], "[", "t", "]"}]}], "+", 
       RowBox[{
        RowBox[{"Cos", "[", 
         RowBox[{"\[Theta]", "[", "t", "]"}], "]"}], " ", 
        RowBox[{"Sin", "[", 
         RowBox[{"\[Phi]", "[", "t", "]"}], "]"}], " ", 
        RowBox[{
         SuperscriptBox["\[Psi]", "\[Prime]",
          MultilineFunction->None], "[", "t", "]"}]}]}]},
     {
      RowBox[{
       RowBox[{
        RowBox[{"-", 
         RowBox[{"Sin", "[", 
          RowBox[{"\[Phi]", "[", "t", "]"}], "]"}]}], " ", 
        RowBox[{
         SuperscriptBox["\[Theta]", "\[Prime]",
          MultilineFunction->None], "[", "t", "]"}]}], "+", 
       RowBox[{
        RowBox[{"Cos", "[", 
         RowBox[{"\[Theta]", "[", "t", "]"}], "]"}], " ", 
        RowBox[{"Cos", "[", 
         RowBox[{"\[Phi]", "[", "t", "]"}], "]"}], " ", 
        RowBox[{
         SuperscriptBox["\[Psi]", "\[Prime]",
          MultilineFunction->None], "[", "t", "]"}]}]}], "0", 
      RowBox[{
       RowBox[{"-", 
        RowBox[{
         SuperscriptBox["\[Phi]", "\[Prime]",
          MultilineFunction->None], "[", "t", "]"}]}], "+", 
       RowBox[{
        RowBox[{"Sin", "[", 
         RowBox[{"\[Theta]", "[", "t", "]"}], "]"}], " ", 
        RowBox[{
         SuperscriptBox["\[Psi]", "\[Prime]",
          MultilineFunction->None], "[", "t", "]"}]}]}]},
     {
      RowBox[{
       RowBox[{
        RowBox[{"-", 
         RowBox[{"Cos", "[", 
          RowBox[{"\[Phi]", "[", "t", "]"}], "]"}]}], " ", 
        RowBox[{
         SuperscriptBox["\[Theta]", "\[Prime]",
          MultilineFunction->None], "[", "t", "]"}]}], "-", 
       RowBox[{
        RowBox[{"Cos", "[", 
         RowBox[{"\[Theta]", "[", "t", "]"}], "]"}], " ", 
        RowBox[{"Sin", "[", 
         RowBox[{"\[Phi]", "[", "t", "]"}], "]"}], " ", 
        RowBox[{
         SuperscriptBox["\[Psi]", "\[Prime]",
          MultilineFunction->None], "[", "t", "]"}]}]}], 
      RowBox[{
       RowBox[{
        SuperscriptBox["\[Phi]", "\[Prime]",
         MultilineFunction->None], "[", "t", "]"}], "-", 
       RowBox[{
        RowBox[{"Sin", "[", 
         RowBox[{"\[Theta]", "[", "t", "]"}], "]"}], " ", 
        RowBox[{
         SuperscriptBox["\[Psi]", "\[Prime]",
          MultilineFunction->None], "[", "t", "]"}]}]}], "0"}
    },
    GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[BoxForm`e$]]]], "Output",
 CellChangeTimes->{{3.832112865046273*^9, 3.8321128856378613`*^9}, 
   3.832112952744988*^9, 3.8321162828419952`*^9, 3.8321164314877987`*^9, {
   3.83211649300632*^9, 3.832116529240033*^9}, 3.832117983396429*^9, 
   3.8321190705829916`*^9},
 CellLabel->
  "Out[51]//MatrixForm=",ExpressionUUID->"7bade91a-8308-483a-89fe-\
cab506f51899"]
}, Open  ]],

Cell["Transpose[R]. d/dt (R) = \[Omega]", "Text",
 CellChangeTimes->{{3.8321130789717636`*^9, 
  3.832113137897134*^9}},ExpressionUUID->"5c0d55ee-5001-48b1-8652-\
a1923d05dd17"],

Cell[BoxData[
 RowBox[{
  RowBox[{"Rotmatdot", "=", 
   RowBox[{
    RowBox[{"Rotmat", ".", "\[Omega]mat"}], "//", "Simplify"}]}], 
  ";"}]], "Input",
 CellChangeTimes->{{3.832113146898481*^9, 3.8321131890703754`*^9}, 
   3.8321132297225213`*^9, {3.832113510947378*^9, 3.8321135214347186`*^9}, {
   3.8321135526917*^9, 3.8321135589933195`*^9}},
 CellLabel->"In[52]:=",ExpressionUUID->"1a1247fd-edf6-4e2f-b5d6-76edfaf7a9e4"],

Cell["\<\
From Poisson\[CloseCurlyQuote]s Kinematic Equations,
R_dot = R.\[Omega]\
\>", "Text",
 CellChangeTimes->{{3.8321153664353867`*^9, 3.8321153766073055`*^9}, {
   3.832115487897912*^9, 3.832115500386892*^9}, {3.8321155574542074`*^9, 
   3.8321155707262754`*^9}, 
   3.832117847112466*^9},ExpressionUUID->"3ca1494c-dc39-437d-9413-\
2d0fdf7ce52c"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"eq1", "=", 
  RowBox[{"R13dot", " ", "==", 
   RowBox[{
    RowBox[{
     RowBox[{"-", "R12"}], " ", "p"}], " ", "+", " ", 
    RowBox[{"R11", " ", "q"}]}]}]}]], "Input",
 CellChangeTimes->{{3.832113207741523*^9, 3.8321132256278048`*^9}, {
  3.832113377634404*^9, 3.832113404673114*^9}, {3.8321153464623175`*^9, 
  3.8321153944177084`*^9}, {3.832116257642489*^9, 3.832116263815761*^9}},
 CellLabel->"In[53]:=",ExpressionUUID->"dca4a26d-2b5d-4342-a4c9-0d332f32b870"],

Cell[BoxData[
 RowBox[{"R13dot", "\[Equal]", 
  RowBox[{
   RowBox[{"q", " ", "R11"}], "-", 
   RowBox[{"p", " ", "R12"}]}]}]], "Output",
 CellChangeTimes->{{3.8321132264804907`*^9, 3.832113233120365*^9}, 
   3.8321134052410507`*^9, 3.8321135250745854`*^9, 3.8321135630600147`*^9, 
   3.832115466053671*^9, {3.832116264440048*^9, 3.8321162828707047`*^9}, 
   3.8321164314989376`*^9, {3.832116493036948*^9, 3.8321165296508093`*^9}, 
   3.8321179834241867`*^9, 3.8321190710657015`*^9},
 CellLabel->"Out[53]=",ExpressionUUID->"7ade4ece-8780-4c73-8e73-dd665f847add"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"eq2", "=", 
  RowBox[{"R23dot", "==", 
   RowBox[{
    RowBox[{
     RowBox[{"-", "R22"}], " ", "p"}], " ", "+", " ", 
    RowBox[{"R21", " ", "q"}]}]}]}]], "Input",
 CellChangeTimes->{{3.8321133203574324`*^9, 3.8321133455240726`*^9}, 
   3.8321134140819407`*^9, {3.8321154465983286`*^9, 3.8321154609082823`*^9}, {
   3.8321162681423273`*^9, 3.832116273347021*^9}},
 CellLabel->"In[54]:=",ExpressionUUID->"019e64c3-465c-4bd6-a8ad-9130a58e2485"],

Cell[BoxData[
 RowBox[{"R23dot", "\[Equal]", 
  RowBox[{
   RowBox[{"q", " ", "R21"}], "-", 
   RowBox[{"p", " ", "R22"}]}]}]], "Output",
 CellChangeTimes->{
  3.832113346508546*^9, 3.832113414827429*^9, 3.832113531117381*^9, 
   3.8321135653417234`*^9, 3.8321154625682764`*^9, {3.8321162668872137`*^9, 
   3.8321162828959236`*^9}, 3.832116431524542*^9, {3.8321164930447693`*^9, 
   3.832116529675536*^9}, 3.832117983434085*^9, 3.832119071095621*^9},
 CellLabel->"Out[54]=",ExpressionUUID->"f36eb102-97ff-49e9-97cc-d9e16b37c10a"]
}, Open  ]],

Cell["\<\
Extracting upper 2X2 matrix as we only wish to find p,q for both rates.\
\>", "Text",
 CellChangeTimes->{{3.832115574052187*^9, 
  3.832115628707148*^9}},ExpressionUUID->"9284eec8-d452-4fa6-a8ce-\
bcd6f7633a33"],

Cell[BoxData[
 RowBox[{
  RowBox[{"rmat", "=", " ", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       RowBox[{"-", "R12"}], ",", "R11"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"-", "R22"}], ",", "R21"}], "}"}]}], "}"}]}], ";"}]], "Input",
 CellChangeTimes->{{3.832115543165826*^9, 3.83211554771622*^9}, {
  3.832115636752138*^9, 3.8321156620278625`*^9}, {3.832116209414914*^9, 
  3.8321162126697187`*^9}},
 CellLabel->"In[55]:=",ExpressionUUID->"c90f283c-9de8-4e01-80ba-b9b3fa3224de"],

Cell[TextData[{
 "The problem looks like: ",
 Cell[BoxData[
  FormBox[
   RowBox[{"(", GridBox[{
      {"R13dot"},
      {"R23dot"}
     }], ")"}], TraditionalForm]],
  FormatType->TraditionalForm,ExpressionUUID->
  "fe97267b-457f-41f4-82d0-a22f7c4b2e92"],
 "=",
 Cell[BoxData[
  FormBox[
   RowBox[{"(", GridBox[{
      {
       RowBox[{"-", "R12"}], "R11"},
      {
       RowBox[{"-", "R22"}], "R21"}
     }], ")"}], TraditionalForm]],
  FormatType->TraditionalForm,ExpressionUUID->
  "76b53245-0eac-4960-8d3a-29815dbc65f2"],
 Cell[BoxData[
  FormBox[
   RowBox[{"(", GridBox[{
      {"p"},
      {"q"}
     }], ")"}], TraditionalForm]],
  FormatType->TraditionalForm,ExpressionUUID->
  "9e965302-7f11-431b-a130-7794af951e72"],
 ". To find ",
 Cell[BoxData[
  FormBox[
   RowBox[{"(", GridBox[{
      {"p"},
      {"q"}
     }], ")"}], TraditionalForm]],ExpressionUUID->
  "ff777c48-0d8a-4910-b68e-1c30226035eb"],
 ", we take Inverse of rmat,"
}], "Text",
 CellChangeTimes->{{3.832115666015098*^9, 
  3.832115842079383*^9}},ExpressionUUID->"780bc19b-73c3-4b14-8d18-\
3d688e8f342d"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"eqRdot", "=", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      SubscriptBox["p", "cmd"], "}"}], ",", 
     RowBox[{"{", 
      SubscriptBox["q", "cmd"], "}"}]}], "}"}], "\[Equal]", 
   RowBox[{"MatrixForm", "[", 
    RowBox[{
     RowBox[{"Inverse", "[", "rmat", "]"}], ".", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"{", "R13dot", "}"}], ",", 
       RowBox[{"{", "R23dot", "}"}]}], "}"}]}], "]"}]}]}]], "Input",
 CellChangeTimes->{{3.832115851525134*^9, 3.832115963820402*^9}},
 CellLabel->"In[56]:=",ExpressionUUID->"b40a4f6e-c6c3-4cc2-ad50-7f5bad7b1666"],

Cell[BoxData[
 RowBox[{
  RowBox[{"{", 
   RowBox[{
    RowBox[{"{", 
     SubscriptBox["p", "cmd"], "}"}], ",", 
    RowBox[{"{", 
     SubscriptBox["q", "cmd"], "}"}]}], "}"}], "\[Equal]", 
  TagBox[
   RowBox[{"(", "\[NoBreak]", GridBox[{
      {
       RowBox[{
        FractionBox[
         RowBox[{"R13dot", " ", "R21"}], 
         RowBox[{
          RowBox[{
           RowBox[{"-", "R12"}], " ", "R21"}], "+", 
          RowBox[{"R11", " ", "R22"}]}]], "-", 
        FractionBox[
         RowBox[{"R11", " ", "R23dot"}], 
         RowBox[{
          RowBox[{
           RowBox[{"-", "R12"}], " ", "R21"}], "+", 
          RowBox[{"R11", " ", "R22"}]}]]}]},
      {
       RowBox[{
        FractionBox[
         RowBox[{"R13dot", " ", "R22"}], 
         RowBox[{
          RowBox[{
           RowBox[{"-", "R12"}], " ", "R21"}], "+", 
          RowBox[{"R11", " ", "R22"}]}]], "-", 
        FractionBox[
         RowBox[{"R12", " ", "R23dot"}], 
         RowBox[{
          RowBox[{
           RowBox[{"-", "R12"}], " ", "R21"}], "+", 
          RowBox[{"R11", " ", "R22"}]}]]}]}
     },
     GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
     GridBoxSpacings->{"Columns" -> {
         Offset[0.27999999999999997`], {
          Offset[0.7]}, 
         Offset[0.27999999999999997`]}, "Rows" -> {
         Offset[0.2], {
          Offset[0.4]}, 
         Offset[0.2]}}], "\[NoBreak]", ")"}],
   Function[BoxForm`e$, 
    MatrixForm[BoxForm`e$]]]}]], "Output",
 CellChangeTimes->{
  3.8321159655530787`*^9, 3.8321162829256115`*^9, 3.832116431553353*^9, {
   3.8321164930722823`*^9, 3.832116529689375*^9}, 3.8321179834648366`*^9, 
   3.83211907112953*^9},
 CellLabel->"Out[56]=",ExpressionUUID->"539e4026-5d17-45d0-82b7-afe57558172a"]
}, Open  ]],

Cell["\<\
If we combine the Denominator or RHS matrix, which is common to all the \
elements using actual Rotation or DCM matrix elements, \
\>", "Text",
 InitializationCell->True,
 CellChangeTimes->{{3.8321163184748583`*^9, 
  3.832116387578699*^9}},ExpressionUUID->"3aabbc04-802f-474c-a2eb-\
80c4d60c98a3"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{
     RowBox[{"Rotmat", "[", 
      RowBox[{"[", "1", "]"}], "]"}], "[", 
     RowBox[{"[", "1", "]"}], "]"}], "*", 
    RowBox[{
     RowBox[{"Rotmat", "[", 
      RowBox[{"[", "2", "]"}], "]"}], "[", 
     RowBox[{"[", "2", "]"}], "]"}]}], "-", 
   RowBox[{
    RowBox[{
     RowBox[{"Rotmat", "[", 
      RowBox[{"[", "1", "]"}], "]"}], "[", 
     RowBox[{"[", "2", "]"}], "]"}], "*", 
    RowBox[{
     RowBox[{"Rotmat", "[", 
      RowBox[{"[", "2", "]"}], "]"}], "[", 
     RowBox[{"[", "1", "]"}], "]"}]}]}], "//", "Simplify"}]], "Input",
 CellChangeTimes->{{3.83211639177668*^9, 3.832116404775788*^9}, {
  3.83211654873742*^9, 3.832116603736286*^9}},
 CellLabel->"In[57]:=",ExpressionUUID->"51bc187d-89e0-429a-b50f-bf4901b9aef7"],

Cell[BoxData[
 RowBox[{
  RowBox[{"Cos", "[", 
   RowBox[{"\[Theta]", "[", "t", "]"}], "]"}], " ", 
  RowBox[{"Cos", "[", 
   RowBox[{"\[Phi]", "[", "t", "]"}], "]"}]}]], "Output",
 CellChangeTimes->{{3.8321164056914563`*^9, 3.8321164315674686`*^9}, {
   3.8321164931042013`*^9, 3.8321165500533953`*^9}, {3.8321165921405*^9, 
   3.8321166042468195`*^9}, 3.832117983487034*^9, 3.8321190711664324`*^9},
 CellLabel->"Out[57]=",ExpressionUUID->"390ddfc2-7696-4b87-b425-0e5fedc2aba9"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"Rotmat", "[", 
   RowBox[{"[", "3", "]"}], "]"}], "[", 
  RowBox[{"[", "3", "]"}], "]"}]], "Input",
 CellChangeTimes->{{3.83211636189124*^9, 3.832116368478713*^9}, {
  3.832116699283061*^9, 3.83211670757962*^9}},
 CellLabel->"In[58]:=",ExpressionUUID->"28498c62-193f-4da9-9ae9-b5623835134d"],

Cell[BoxData[
 RowBox[{
  RowBox[{"Cos", "[", 
   RowBox[{"\[Theta]", "[", "t", "]"}], "]"}], " ", 
  RowBox[{"Cos", "[", 
   RowBox[{"\[Phi]", "[", "t", "]"}], "]"}]}]], "Output",
 CellChangeTimes->{3.832116708662301*^9, 3.8321179834952726`*^9, 
  3.832119071199345*^9},
 CellLabel->"Out[58]=",ExpressionUUID->"b9273dd1-faf4-4313-8942-fbba02a93542"]
}, Open  ]],

Cell["We can replace the Denominator in eqRdot by R33.", "Text",
 CellChangeTimes->{{3.832116714873972*^9, 3.832116749742509*^9}, 
   3.8321172494057517`*^9},ExpressionUUID->"d9188335-4be3-4e1f-9a8e-\
57a101349067"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"eqRdot", "/.", 
  RowBox[{"{", 
   RowBox[{
    RowBox[{
     RowBox[{
      RowBox[{"-", "R12"}], " ", "R21"}], "+", 
     RowBox[{"R11", " ", "R22"}]}], "\[Rule]", " ", "R33"}], "}"}]}]], "Input",
 CellChangeTimes->{{3.8321167530553923`*^9, 3.832116788319525*^9}},
 CellLabel->"In[59]:=",ExpressionUUID->"f9a9a4ac-f9ad-4cae-a35a-a6a8c1e0ff27"],

Cell[BoxData[
 RowBox[{
  RowBox[{"{", 
   RowBox[{
    RowBox[{"{", 
     SubscriptBox["p", "cmd"], "}"}], ",", 
    RowBox[{"{", 
     SubscriptBox["q", "cmd"], "}"}]}], "}"}], "\[Equal]", 
  TagBox[
   RowBox[{"(", "\[NoBreak]", GridBox[{
      {
       RowBox[{
        FractionBox[
         RowBox[{"R13dot", " ", "R21"}], "R33"], "-", 
        FractionBox[
         RowBox[{"R11", " ", "R23dot"}], "R33"]}]},
      {
       RowBox[{
        FractionBox[
         RowBox[{"R13dot", " ", "R22"}], "R33"], "-", 
        FractionBox[
         RowBox[{"R12", " ", "R23dot"}], "R33"]}]}
     },
     GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
     GridBoxSpacings->{"Columns" -> {
         Offset[0.27999999999999997`], {
          Offset[0.7]}, 
         Offset[0.27999999999999997`]}, "Rows" -> {
         Offset[0.2], {
          Offset[0.4]}, 
         Offset[0.2]}}], "\[NoBreak]", ")"}],
   Function[BoxForm`e$, 
    MatrixForm[BoxForm`e$]]]}]], "Output",
 CellChangeTimes->{3.832116788931396*^9, 3.832117983519949*^9, 
  3.832119071234251*^9},
 CellLabel->"Out[59]=",ExpressionUUID->"957fee33-74b7-483a-985e-c06c0d2fe616"]
}, Open  ]],

Cell["The terms R13dot and R12dot are, ", "Text",
 CellChangeTimes->{{3.8321169090734386`*^9, 
  3.832116948918482*^9}},ExpressionUUID->"9b0203ce-5647-45c0-a353-\
51b628a4a73a"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"R13dot", " ", "=", " ", 
  RowBox[{"kpBank", 
   RowBox[{
    RowBox[{"(", 
     RowBox[{
      SubscriptBox["R13", "cmd"], "-", "R13"}], ")"}], "/", 
    SubscriptBox["\[Tau]", "rp"], " ", 
    RowBox[{"(*", 
     RowBox[{
      RowBox[{
       RowBox[{
        SubscriptBox["\[Tau]", 
         RowBox[{"rp", " "}]], "is", " ", "time", " ", "constant", " ", "of", 
        " ", "P"}], "-", 
       RowBox[{"body", " ", "rate", " ", "controller"}]}], ",", 
      RowBox[{"kpBank", " ", "is", " ", "the", " ", 
       RowBox[{"gain", "."}]}]}], "*)"}]}]}]}]], "Input",
 CellChangeTimes->{{3.8321169545274467`*^9, 3.832116965496329*^9}, {
  3.832117087074691*^9, 3.832117178634424*^9}, {3.8321179706608934`*^9, 
  3.8321179725868397`*^9}, {3.832118007764717*^9, 3.832118029566735*^9}},
 CellLabel->"In[60]:=",ExpressionUUID->"4e586c3c-86de-44e8-8cc6-9fb0450250b6"],

Cell[BoxData[
 FractionBox[
  RowBox[{"kpBank", " ", 
   RowBox[{"(", 
    RowBox[{
     RowBox[{"-", "R13"}], "+", 
     SubscriptBox["R13", "cmd"]}], ")"}]}], 
  SubscriptBox["\[Tau]", "rp"]]], "Output",
 CellChangeTimes->{3.832117199669411*^9, 3.8321179835278187`*^9, 
  3.832119071265169*^9},
 CellLabel->"Out[60]=",ExpressionUUID->"168e8e57-b246-476f-9d86-8ca30efccdbf"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"R23dot", " ", "=", 
  RowBox[{"kpBank", " ", 
   RowBox[{
    RowBox[{"(", 
     RowBox[{
      SubscriptBox["R23", "cmd"], "-", "R23"}], ")"}], "/", 
    SubscriptBox["\[Tau]", "rp"], " "}]}]}]], "Input",
 CellChangeTimes->{{3.8321171881593275`*^9, 3.83211719563756*^9}, {
  3.832117976500825*^9, 3.832117979385951*^9}},
 CellLabel->"In[61]:=",ExpressionUUID->"c7282f2e-66b4-4206-a9b6-926e80132caf"],

Cell[BoxData[
 FractionBox[
  RowBox[{"kpBank", " ", 
   RowBox[{"(", 
    RowBox[{
     RowBox[{"-", "R23"}], "+", 
     SubscriptBox["R23", "cmd"]}], ")"}]}], 
  SubscriptBox["\[Tau]", "rp"]]], "Output",
 CellChangeTimes->{3.832117196606757*^9, 3.832117983553953*^9, 
  3.8321190712970824`*^9},
 CellLabel->"Out[61]=",ExpressionUUID->"8331178e-37b1-448c-a963-ab9894fd9105"]
}, Open  ]],

Cell[TextData[Cell[BoxData[
 FormBox[
  RowBox[{
   RowBox[{
    SubscriptBox["R13", "cmd"], " ", "and", " ", 
    SubscriptBox["R23", 
     RowBox[{"cmd", " "}]], "are", " ", "obtained", " ", "from", " ", 
    "following", " ", "equation"}], ";"}], TraditionalForm]],
 FormatType->
  TraditionalForm,ExpressionUUID->"64c06d2e-5295-4af1-abce-889229b0f148"]], \
"Text",
 CellChangeTimes->{{3.8321176499953475`*^9, 
  3.8321176975131865`*^9}},ExpressionUUID->"2cabfe71-c29e-4f89-a759-\
4b80414d8976"],

Cell[CellGroupData[{

Cell[BoxData["eqF"], "Input",
 CellChangeTimes->{{3.8321177007639685`*^9, 3.83211770234439*^9}},
 CellLabel->"In[62]:=",ExpressionUUID->"eab2b86d-d7e6-4093-b96e-13c928f68560"],

Cell[BoxData[
 RowBox[{
  TagBox[
   RowBox[{"(", "\[NoBreak]", GridBox[{
      {
       RowBox[{"m", " ", 
        SubscriptBox["acc", "x"]}]},
      {
       RowBox[{"m", " ", 
        SubscriptBox["acc", "y"]}]},
      {
       RowBox[{"m", " ", 
        SubscriptBox["acc", "z"]}]}
     },
     GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
     GridBoxSpacings->{"Columns" -> {
         Offset[0.27999999999999997`], {
          Offset[0.7]}, 
         Offset[0.27999999999999997`]}, "Rows" -> {
         Offset[0.2], {
          Offset[0.4]}, 
         Offset[0.2]}}], "\[NoBreak]", ")"}],
   Function[BoxForm`e$, 
    MatrixForm[BoxForm`e$]]], "\[Equal]", 
  TagBox[
   RowBox[{"(", "\[NoBreak]", GridBox[{
      {
       RowBox[{
        RowBox[{"-", "R13"}], " ", 
        SubscriptBox["F", "total"]}]},
      {
       RowBox[{
        RowBox[{"-", "R23"}], " ", 
        SubscriptBox["F", "total"]}]},
      {
       RowBox[{"g", "-", 
        RowBox[{"R33", " ", 
         SubscriptBox["F", "total"]}]}]}
     },
     GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
     GridBoxSpacings->{"Columns" -> {
         Offset[0.27999999999999997`], {
          Offset[0.7]}, 
         Offset[0.27999999999999997`]}, "Rows" -> {
         Offset[0.2], {
          Offset[0.4]}, 
         Offset[0.2]}}], "\[NoBreak]", ")"}],
   Function[BoxForm`e$, 
    MatrixForm[BoxForm`e$]]]}]], "Output",
 CellChangeTimes->{3.832117703710141*^9, 3.832117983563033*^9, 
  3.832119071329994*^9},
 CellLabel->"Out[62]=",ExpressionUUID->"e0be1c06-15a5-4063-91f1-edbdbdba6497"]
}, Open  ]],

Cell[TextData[{
 "With ",
 Cell[BoxData[
  FormBox[
   SubscriptBox["F", 
    RowBox[{"total", " "}]], TraditionalForm]],
  FormatType->TraditionalForm,ExpressionUUID->
  "5476f200-9717-4bf5-ab19-4383ab6fb00a"],
 " and accelCmd as inputs, we can solve for R13 and R23 which are the \
commanded elements by the controller."
}], "Text",
 CellChangeTimes->{{3.832117737697937*^9, 3.8321178245218678`*^9}, {
  3.832117885737851*^9, 
  3.832117890042702*^9}},ExpressionUUID->"511594c9-278b-4821-9632-\
2c621dfe4f2e"]
}, Open  ]]
}, Open  ]]
},
WindowSize->{552.6, 570.6},
WindowMargins->{{-6, Automatic}, {Automatic, 0.6}},
TaggingRules->{
 "WelcomeScreenSettings" -> {"FEStarting" -> False}, "TryRealOnly" -> False},
FrontEndVersion->"12.2 for Microsoft Windows (64-bit) (December 12, 2020)",
StyleDefinitions->"Default.nb",
ExpressionUUID->"f5b27213-1240-4f60-828d-a3d7e0364fb5"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[CellGroupData[{
Cell[580, 22, 210, 4, 97, "Title",ExpressionUUID->"4c5d7ea0-58ed-4c66-922e-19fa315565a1"],
Cell[CellGroupData[{
Cell[815, 30, 156, 3, 67, "Section",ExpressionUUID->"432e5c7d-755c-4ff4-822d-7c5aeca4fbf7"],
Cell[974, 35, 184, 3, 35, "Text",ExpressionUUID->"9886d970-3055-4699-87e2-02a757bf08c4"],
Cell[1161, 40, 1024, 26, 146, "Input",ExpressionUUID->"84563f7a-3935-4ad3-be25-160054c32e5c"],
Cell[CellGroupData[{
Cell[2210, 70, 297, 5, 54, "Subsection",ExpressionUUID->"44dcf5bf-f140-4e8f-a699-fa075a92ff17",
 CellGroupingRules->{"GroupTogetherGrouping", 10002.}],
Cell[2510, 77, 265, 5, 45, "Subsubsection",ExpressionUUID->"8c604039-bb86-4fdf-94f1-323abb6987c1",
 CellGroupingRules->{"GroupTogetherGrouping", 10002.}],
Cell[2778, 84, 285, 5, 35, "Text",ExpressionUUID->"29a0bd58-020f-4bbb-93bf-bd77d59aa8b1",
 CellGroupingRules->{"GroupTogetherGrouping", 10002.}],
Cell[3066, 91, 1513, 33, 166, "Input",ExpressionUUID->"aa308a75-d7bb-4b3a-a4ae-bafe468893fe",
 CellGroupingRules->{"GroupTogetherGrouping", 10002.}],
Cell[4582, 126, 9225, 214, 609, "Input",ExpressionUUID->"ffc4c0e6-2453-46cf-a4d4-da4e2b5ad1c7",
 CellGroupingRules->{"GroupTogetherGrouping", 10002.}],
Cell[13810, 342, 1124, 23, 68, "Input",ExpressionUUID->"3754a562-baf6-4712-a4c0-402b0b0c3dd9",
 CellGroupingRules->{"GroupTogetherGrouping", 10002.}]
}, Open  ]],
Cell[14949, 368, 2054, 40, 265, "Output",ExpressionUUID->"9372f2d3-0d56-4724-8eeb-797da6eb73af"],
Cell[CellGroupData[{
Cell[17028, 412, 1246, 22, 28, "Input",ExpressionUUID->"8deda9e2-2fab-4732-a5ed-a928c9ec2b2f",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.}],
Cell[18277, 436, 1003, 25, 162, "Input",ExpressionUUID->"8ed1ecab-4b1d-409c-9a3d-b6436e16f33e",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.}]
}, Open  ]],
Cell[19295, 464, 2370, 46, 331, "Output",ExpressionUUID->"fb4ae558-98a0-411b-be0b-5e858c921020"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[21714, 516, 212, 4, 97, "Title",ExpressionUUID->"47d2fdf8-6c0d-4644-b517-5fa21e8ca7b6"],
Cell[CellGroupData[{
Cell[21951, 524, 402, 6, 67, "Section",ExpressionUUID->"e97971c6-78ff-4aaf-b10d-97bc56e33ca6"],
Cell[22356, 532, 316, 7, 58, "Text",ExpressionUUID->"15d0fcca-06d8-407d-9cce-3891f9316b53",
 InitializationCell->True],
Cell[22675, 541, 331, 7, 58, "Text",ExpressionUUID->"2e73eb16-af48-47e7-81e1-2564ff34586f"],
Cell[23009, 550, 949, 22, 107, "Input",ExpressionUUID->"61daadaf-6653-4c4b-b120-a59783fd310c"],
Cell[23961, 574, 409, 10, 28, "Input",ExpressionUUID->"4a3c9d21-80db-427f-88c7-1d951d3278c9"],
Cell[24373, 586, 219, 5, 28, "Input",ExpressionUUID->"88944c73-4b3c-4e9b-849d-a4b440f0f725"],
Cell[CellGroupData[{
Cell[24617, 595, 576, 12, 28, "Input",ExpressionUUID->"ef3f0c2e-fdbb-4271-a806-ef1534f723cc"],
Cell[25196, 609, 591, 11, 52, "Output",ExpressionUUID->"7e87ebdb-2591-4db5-bec7-f708cc296409"]
}, Open  ]],
Cell[CellGroupData[{
Cell[25824, 625, 458, 10, 28, "Input",ExpressionUUID->"3fba42e0-bae4-4b13-a5e6-7caa07d84f4e"],
Cell[26285, 637, 568, 10, 52, "Output",ExpressionUUID->"19382234-8747-4eec-8f27-a400458a5bbc"]
}, Open  ]],
Cell[CellGroupData[{
Cell[26890, 652, 495, 11, 28, "Input",ExpressionUUID->"b4a54f54-1d6f-4410-b6b7-abc51038cf2b"],
Cell[27388, 665, 589, 9, 32, "Output",ExpressionUUID->"554055ac-95ff-4048-b7a4-c11b78eea75d"]
}, Open  ]],
Cell[27992, 677, 2744, 58, 127, "Input",ExpressionUUID->"fd3c3fca-d430-47b1-bbd2-776bc7318b09"],
Cell[CellGroupData[{
Cell[30761, 739, 719, 15, 68, "Input",ExpressionUUID->"703bbfb7-c26c-4fec-84f0-cf114677d16b"],
Cell[31483, 756, 2867, 68, 239, "Output",ExpressionUUID->"6152ceea-c0db-44f9-9316-650bb6a50fe4"]
}, Open  ]],
Cell[34365, 827, 691, 16, 127, "Text",ExpressionUUID->"a819e731-fb57-43b6-854e-01ce47f91390"],
Cell[35059, 845, 2215, 57, 205, "Input",ExpressionUUID->"062a3d71-7504-4f87-b9f0-77852a4b8585"]
}, Open  ]],
Cell[CellGroupData[{
Cell[37311, 907, 410, 8, 105, "Section",ExpressionUUID->"b77989f8-2b86-4ab3-9e5d-ced9f47ec7d0"],
Cell[37724, 917, 362, 6, 35, "Text",ExpressionUUID->"dd2fc264-2bb2-4a58-8596-c2a88d78eeee"],
Cell[CellGroupData[{
Cell[38111, 927, 517, 10, 28, "Input",ExpressionUUID->"8cfeb68a-945b-4bef-84d3-d1da99bf6183"],
Cell[38631, 939, 758, 18, 32, "Output",ExpressionUUID->"7a61e075-4021-4d66-86c4-f2f2a044d4da"]
}, Open  ]],
Cell[CellGroupData[{
Cell[39426, 962, 470, 7, 28, "Input",ExpressionUUID->"b7c728d9-1d56-43c9-96af-90344b73ad75"],
Cell[39899, 971, 1104, 29, 79, "Output",ExpressionUUID->"a3a0b144-328d-4678-8527-e85020ee951c"]
}, Open  ]],
Cell[CellGroupData[{
Cell[41040, 1005, 496, 10, 28, "Input",ExpressionUUID->"92043579-003c-4fbd-a0eb-4193af5a797f"],
Cell[41539, 1017, 758, 18, 32, "Output",ExpressionUUID->"60ee7dd1-238a-417c-b603-87397d4fdb85"]
}, Open  ]],
Cell[CellGroupData[{
Cell[42334, 1040, 597, 9, 28, "Input",ExpressionUUID->"ff760338-c766-4f79-901b-202a4cc687c7"],
Cell[42934, 1051, 1188, 30, 79, "Output",ExpressionUUID->"74b8ea02-85df-4bff-a4e6-4843d626d058"]
}, Open  ]],
Cell[CellGroupData[{
Cell[44159, 1086, 542, 10, 28, "Input",ExpressionUUID->"6ff5b4b1-c462-4ba4-8d8a-23a507afe134"],
Cell[44704, 1098, 755, 18, 32, "Output",ExpressionUUID->"f8320a17-34e2-4a39-95a5-90addc55c99d"]
}, Open  ]],
Cell[CellGroupData[{
Cell[45496, 1121, 244, 4, 28, "Input",ExpressionUUID->"920b804b-8cc9-40f9-9724-405c98375c50"],
Cell[45743, 1127, 1168, 30, 79, "Output",ExpressionUUID->"733b2c60-e750-42b9-a940-47bb41c378cf"]
}, Open  ]],
Cell[46926, 1160, 411, 6, 35, "Text",ExpressionUUID->"65f66ef7-bc6f-4939-bbc1-66cab567dec9"],
Cell[47340, 1168, 920, 16, 28, "Input",ExpressionUUID->"af7c219f-e91a-4a7a-bde1-855ff9e83b47"],
Cell[CellGroupData[{
Cell[48285, 1188, 537, 9, 28, "Input",ExpressionUUID->"cab78414-9fac-43b9-835e-0f4e9056e3d5"],
Cell[48825, 1199, 2932, 75, 80, "Output",ExpressionUUID->"c8e72274-7333-4612-9d12-13b5fe711c63"]
}, Open  ]],
Cell[51772, 1277, 425, 7, 35, "Text",ExpressionUUID->"80ab8eb0-bcf0-49ce-ada7-60d6fec696d7"],
Cell[52200, 1286, 229, 4, 35, "Text",ExpressionUUID->"42d4a0dc-bb29-4ada-8158-9086ad33cd6c"],
Cell[52432, 1292, 532, 14, 28, "Input",ExpressionUUID->"052e8242-fb57-4a08-872d-14220409f5ac"],
Cell[CellGroupData[{
Cell[52989, 1310, 2069, 49, 108, "Input",ExpressionUUID->"ce416d62-50a3-4c3c-ba77-4f7077f973a1"],
Cell[55061, 1361, 1755, 53, 67, "Output",ExpressionUUID->"77f0ff0c-e84a-444d-8956-3573ce74e426"]
}, Open  ]],
Cell[56831, 1417, 399, 6, 35, "Text",ExpressionUUID->"b6da3ea2-b7bb-48c0-b5fb-81fcef326cb6"],
Cell[57233, 1425, 1418, 32, 123, "Text",ExpressionUUID->"4acfb44d-2807-49e9-a1bf-6a4c11ed915e"],
Cell[CellGroupData[{
Cell[58676, 1461, 1812, 51, 69, "Input",ExpressionUUID->"29239aca-af47-4576-ba75-1180dfd786cc"],
Cell[60491, 1514, 2420, 73, 67, "Output",ExpressionUUID->"5abc32d0-8b6f-48b0-b732-521d72bd2e43"]
}, Open  ]],
Cell[62926, 1590, 396, 6, 35, "Text",ExpressionUUID->"c6ea51b7-8fa3-42f3-b919-0e171552a170"],
Cell[CellGroupData[{
Cell[63347, 1600, 1427, 38, 68, "Input",ExpressionUUID->"18a9ae5e-8e8a-4594-b4d8-e2280fb083db"],
Cell[64777, 1640, 2162, 60, 68, "Output",ExpressionUUID->"565aaa62-e7ce-4b1f-9795-f660ff8d2ecb"]
}, Open  ]],
Cell[CellGroupData[{
Cell[66976, 1705, 1633, 44, 127, "Input",ExpressionUUID->"065a3114-cf25-47d1-9ced-df99cf6903e5"],
Cell[68612, 1751, 2090, 60, 68, "Output",ExpressionUUID->"80ad269b-8e5d-406a-b430-eb8fb51259dd"]
}, Open  ]]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[70763, 1818, 214, 4, 97, "Title",ExpressionUUID->"f50abb0b-ca5f-47f4-b536-a7f1b925e30b"],
Cell[CellGroupData[{
Cell[71002, 1826, 266, 4, 54, "Subsection",ExpressionUUID->"98b6bc1b-0b1a-4ed4-80a3-f2bf9d7b3585"],
Cell[71271, 1832, 691, 20, 59, "Text",ExpressionUUID->"cbb34c31-945a-473b-a844-28787cd9ddb2"],
Cell[71965, 1854, 586, 13, 68, "Input",ExpressionUUID->"5657e71a-4437-4708-8218-306cb0cfd054"]
}, Open  ]],
Cell[CellGroupData[{
Cell[72588, 1872, 266, 4, 54, "Subsection",ExpressionUUID->"6311f54d-497e-4877-b03e-cddee0567716"],
Cell[72857, 1878, 279, 6, 58, "Text",ExpressionUUID->"5ca1d70f-116b-49c6-a292-8f2561b9fcbe"],
Cell[73139, 1886, 296, 7, 58, "Text",ExpressionUUID->"559b1f7e-2b25-4e89-87d6-7ec99279fe77"],
Cell[CellGroupData[{
Cell[73460, 1897, 573, 11, 28, "Input",ExpressionUUID->"f32d60d0-f37d-4b82-bef0-3c5846d8f0e0"],
Cell[74036, 1910, 3262, 90, 150, "Output",ExpressionUUID->"af2470d2-b0f3-4059-ad6b-9e1f2333e279"]
}, Open  ]],
Cell[CellGroupData[{
Cell[77335, 2005, 215, 3, 28, "Input",ExpressionUUID->"aa72f788-4a61-4f94-b2bb-d43218af225e"],
Cell[77553, 2010, 3535, 99, 80, "Output",ExpressionUUID->"b2948f61-029f-49bd-890d-f7b8e03f4e2d"]
}, Open  ]],
Cell[CellGroupData[{
Cell[81125, 2114, 464, 10, 28, "Input",ExpressionUUID->"c3392888-fa1b-4648-8ed3-157b07f46305"],
Cell[81592, 2126, 3557, 98, 131, "Output",ExpressionUUID->"22a590aa-0410-4da6-8297-4055293fb774"]
}, Open  ]],
Cell[CellGroupData[{
Cell[85186, 2229, 220, 3, 28, "Input",ExpressionUUID->"0b272e18-0a3a-42fb-9e30-f35a84a726d5"],
Cell[85409, 2234, 3833, 106, 80, "Output",ExpressionUUID->"7bade91a-8308-483a-89fe-cab506f51899"]
}, Open  ]],
Cell[89257, 2343, 177, 3, 35, "Text",ExpressionUUID->"5c0d55ee-5001-48b1-8652-a1923d05dd17"],
Cell[89437, 2348, 423, 9, 28, "Input",ExpressionUUID->"1a1247fd-edf6-4e2f-b5d6-76edfaf7a9e4"],
Cell[89863, 2359, 352, 8, 58, "Text",ExpressionUUID->"3ca1494c-dc39-437d-9413-2d0fdf7ce52c"],
Cell[CellGroupData[{
Cell[90240, 2371, 489, 10, 28, "Input",ExpressionUUID->"dca4a26d-2b5d-4342-a4c9-0d332f32b870"],
Cell[90732, 2383, 562, 10, 32, "Output",ExpressionUUID->"7ade4ece-8780-4c73-8e73-dd665f847add"]
}, Open  ]],
Cell[CellGroupData[{
Cell[91331, 2398, 468, 10, 28, "Input",ExpressionUUID->"019e64c3-465c-4bd6-a8ad-9130a58e2485"],
Cell[91802, 2410, 529, 10, 32, "Output",ExpressionUUID->"f36eb102-97ff-49e9-97cc-d9e16b37c10a"]
}, Open  ]],
Cell[92346, 2423, 221, 5, 35, "Text",ExpressionUUID->"9284eec8-d452-4fa6-a8ce-bcd6f7633a33"],
Cell[92570, 2430, 530, 14, 28, "Input",ExpressionUUID->"c90f283c-9de8-4e01-80ba-b9b3fa3224de"],
Cell[93103, 2446, 1084, 41, 74, "Text",ExpressionUUID->"780bc19b-73c3-4b14-8d18-3d688e8f342d"],
Cell[CellGroupData[{
Cell[94212, 2491, 608, 17, 49, "Input",ExpressionUUID->"b40a4f6e-c6c3-4cc2-ad50-7f5bad7b1666"],
Cell[94823, 2510, 1760, 53, 66, "Output",ExpressionUUID->"539e4026-5d17-45d0-82b7-afe57558172a"]
}, Open  ]],
Cell[96598, 2566, 308, 7, 58, "Text",ExpressionUUID->"3aabbc04-802f-474c-a2eb-80c4d60c98a3",
 InitializationCell->True],
Cell[CellGroupData[{
Cell[96931, 2577, 796, 23, 49, "Input",ExpressionUUID->"51bc187d-89e0-429a-b50f-bf4901b9aef7"],
Cell[97730, 2602, 479, 9, 32, "Output",ExpressionUUID->"390ddfc2-7696-4b87-b425-0e5fedc2aba9"]
}, Open  ]],
Cell[CellGroupData[{
Cell[98246, 2616, 326, 7, 28, "Input",ExpressionUUID->"28498c62-193f-4da9-9ae9-b5623835134d"],
Cell[98575, 2625, 350, 8, 32, "Output",ExpressionUUID->"b9273dd1-faf4-4313-8942-fbba02a93542"]
}, Open  ]],
Cell[98940, 2636, 215, 3, 35, "Text",ExpressionUUID->"d9188335-4be3-4e1f-9a8e-57a101349067"],
Cell[CellGroupData[{
Cell[99180, 2643, 369, 9, 28, "Input",ExpressionUUID->"f9a9a4ac-f9ad-4cae-a35a-a6a8c1e0ff27"],
Cell[99552, 2654, 1155, 35, 64, "Output",ExpressionUUID->"957fee33-74b7-483a-985e-c06c0d2fe616"]
}, Open  ]],
Cell[100722, 2692, 177, 3, 35, "Text",ExpressionUUID->"9b0203ce-5647-45c0-a353-51b628a4a73a"],
Cell[CellGroupData[{
Cell[100924, 2699, 886, 21, 89, "Input",ExpressionUUID->"4e586c3c-86de-44e8-8cc6-9fb0450250b6"],
Cell[101813, 2722, 375, 10, 52, "Output",ExpressionUUID->"168e8e57-b246-476f-9d86-8ca30efccdbf"]
}, Open  ]],
Cell[CellGroupData[{
Cell[102225, 2737, 424, 10, 30, "Input",ExpressionUUID->"c7282f2e-66b4-4206-a9b6-926e80132caf"],
Cell[102652, 2749, 375, 10, 52, "Output",ExpressionUUID->"8331178e-37b1-448c-a963-ab9894fd9105"]
}, Open  ]],
Cell[103042, 2762, 498, 13, 34, "Text",ExpressionUUID->"2cabfe71-c29e-4f89-a759-4b80414d8976"],
Cell[CellGroupData[{
Cell[103565, 2779, 175, 2, 28, "Input",ExpressionUUID->"eab2b86d-d7e6-4093-b96e-13c928f68560"],
Cell[103743, 2783, 1607, 51, 67, "Output",ExpressionUUID->"e0be1c06-15a5-4063-91f1-edbdbdba6497"]
}, Open  ]],
Cell[105365, 2837, 511, 14, 58, "Text",ExpressionUUID->"511594c9-278b-4821-9632-2c621dfe4f2e"]
}, Open  ]]
}, Open  ]]
}
]
*)

